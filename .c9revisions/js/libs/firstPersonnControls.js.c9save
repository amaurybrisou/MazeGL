{"ts":1369487381699,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author paulirish / http://paulirish.com/\n */\n\nTHREE.FirstPersonControls = function ( object, screenSizeRatio, domElement ) {\n\n    this.object = object;\n\tthis.target = new THREE.Vector3( 0, 0, 0 );\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\tthis.movementSpeed = 1.0;\n\tthis.lookSpeed = 0.05;\n\n\tthis.noFly = false;\n\tthis.lookVertical = true;\n\tthis.autoForward = false;\n\n\tthis.activeLook = true;\n\n\tthis.heightSpeed = false;\n\tthis.heightCoef = 1.0;\n\tthis.heightMin = 0.0;\n\n\tthis.constrainVertical = false;\n\tthis.verticalMin = 0;\n\tthis.verticalMax = Math.PI;\n\n\tthis.autoSpeedFactor = 0.0;\n\n\tthis.mouseX = 0;\n\tthis.mouseY = 0;\n\n\tthis.lat = 0;\n\tthis.lon = 0;\n\tthis.phi = 0;\n\tthis.theta = 0;\n\n\tthis.moveForward = false;\n\tthis.moveBackward = false;\n\tthis.moveLeft = false;\n\tthis.moveRight = false;\n\tthis.freeze = false;\n\n\tthis.mouseDragOn = false;\n\n\tif ( this.domElement === document ) {\n\n\t\tthis.viewHalfX = (window.innerWidth - screenSizeRatio)/ 2;\n\t\tthis.viewHalfY = (window.innerHeight - screenSizeRatio)/ 2;\n\n\t} else {\n\n\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\n\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\n\t\tthis.domElement.setAttribute( 'tabindex', -1 );\n\n\t}\n\n\tthis.onMouseDown = function ( event ) {\n\n\t\tif ( this.domElement !== document ) {\n\n\t\t\tthis.domElement.focus();\n\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( this.activeLook ) {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0: this.moveForward = true; break;\n\t\t\t\tcase 2: this.moveBackward = true; break;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.mouseDragOn = true;\n\n\t};\n\n\tthis.onMouseUp = function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif ( this.activeLook ) {\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0: this.moveForward = false; break;\n\t\t\t\tcase 2: this.moveBackward = false; break;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.mouseDragOn = false;\n\n\t};\n\n\tthis.onMouseMove = function ( event ) {\n\n\t\tif ( this.domElement === document ) {\n\n\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\n\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\n\n\t\t} else {\n\n\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\n\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\n\n\t\t}\n\n\t};\n\n\tthis.onKeyDown = function ( event ) {\n\n\t\tswitch( event.keyCode ) {\n\t\t\tcase 65: /*A*/ \n\t\t\tif(this.moveForward == true)\n\t\t\t\tthis.moveForward = false;\n\t\t\telse\n\t\t\t\tthis.moveForward = true;\n\t\t\tbreak;\n\t\t\tcase 90: /*Z*/ this.moveForward = true; break;\n\n\t\t\tcase 37: /*left*/\n\t\t\tcase 81: /*Q*/ this.moveLeft = true; break;\n\n\t\t\tcase 83: /*S*/ this.moveBackward = true; break;\n\n\t\t\tcase 39: /*right*/\n\t\t\tcase 68: /*D*/ this.moveRight = true; break;\n\n\t\t\tcase 38: /*up*/ this.moveUp = true; break;\n\t\t\tcase 40: /*down*/ this.moveDown = true; break;\n\n\t\t\tcase 70: /*F*/ \n\t\t\tif(this.freeze == true){\n\t\t\t\tthis.freeze = false;\n\t\t\t\tconsole.log(\"freezer\")\n\t\t\t} \n\t\t\telse\n\t\t\t\tthis.freeze = true;\n\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tthis.onKeyUp = function ( event ) {\n\n\t\tswitch( event.keyCode ) {\n\n\t\t\tcase 90: /*Z*/ this.moveForward = false; break;\n\n\t\t\tcase 37: /*left*/\n\t\t\tcase 81: /*Q*/ this.moveLeft = false; break;\n\n\t\t\tcase 83: /*S*/ this.moveBackward = false; break;\n\n\t\t\tcase 39: /*right*/\n\t\t\tcase 68: /*D*/ this.moveRight = false; break;\n\n\t\t\tcase 38: /*up*/ this.moveUp = false; break;\n\t\t\tcase 40: /*down*/ this.moveDown = false; break;\n\n\t\t}\n\n\t};\n\n\tthis.update = function( delta ) {\n\t\tvar actualMoveSpeed = 0;\n\t\t\n\t\tif ( !this.freeze ) {\n\n\t\t\tif ( this.heightSpeed ) {\n\n\t\t\t\tvar y = THREE.Math.clamp( this.object.position.y, this.heightMin, this.heightMax );\n\t\t\t\tvar heightDelta = y - this.heightMin;\n\n\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\n\n\t\t\t} else {\n\n\t\t\t\tthis.autoSpeedFactor = 0.0;\n\n\t\t\t}\n\n\t\t\tactualMoveSpeed = delta * this.movementSpeed;\n\n\t\t\tif ( this.moveForward || ( this.autoForward && !this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\n\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\n\n\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\n\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\n\n\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\n\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\n\n\t\t\tvar actualLookSpeed = delta * this.lookSpeed;\n\n\t\t\tif ( !this.activeLook ) {\n\n\t\t\t\tactualLookSpeed = 0;\n\n\t\t\t}\n\n\t\t\tthis.lon += this.mouseX * actualLookSpeed;\n\t\t\tif( this.lookVertical ) this.lat += this.mouseY * actualLookSpeed;\n\n\t\t\tthis.lat = Math.max( - 85, Math.min( 85, this.lat ) );\n\t\t\tthis.phi = ( 90 - this.lat ) * Math.PI / 180;\n\t\t\tthis.theta = this.lon * Math.PI / 180;\n\n\t\t\tvar targetPosition = this.target,\n\t\t\t\tposition = this.object.position;\n\n\t\t\ttargetPosition.x = position.x + 100 * Math.sin( this.phi ) * Math.cos( this.theta );\n\t\t\ttargetPosition.y = position.y + 100 * Math.cos( this.phi );\n\t\t\ttargetPosition.z = position.z + 100 * Math.sin( this.phi ) * Math.sin( this.theta );\n\n\t\t}\n\t\n\n\t\tvar verticalLookRatio = 1;\n\n\t\tif ( this.constrainVertical ) {\n\n\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\n\n\t\t}\n\n\t\tthis.lon += this.mouseX * actualLookSpeed;\n\t\tif( this.lookVertical ) this.lat += this.mouseY * actualLookSpeed * verticalLookRatio;\n\n\t\tthis.lat = Math.max( - 85, Math.min( 85, this.lat ) );\n\t\tthis.phi = ( 90 - this.lat ) * Math.PI / 180;\n\n\t\tthis.theta = this.lon * Math.PI / 180;\n\n\t\tif ( this.constrainVertical ) {\n\n\t\t\tthis.phi = THREE.Math.mapLinear( this.phi, 0, Math.PI, this.verticalMin, this.verticalMax );\n\n\t\t}\n\n\t\tvar targetPosition = this.target,\n\t\t\tposition = this.object.position;\n\n\t\ttargetPosition.x = position.x + 100 * Math.sin( this.phi ) * Math.cos( this.theta );\n\t\ttargetPosition.y = position.y + 100 * Math.cos( this.phi );\n\t\ttargetPosition.z = position.z + 100 * Math.sin( this.phi ) * Math.sin( this.theta );\n\n\t\tthis.object.lookAt( targetPosition );\n\n\t};\n\n\n\tthis.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\n\tthis.domElement.addEventListener( 'mousemove', bind( this, this.onMouseMove ), false );\n\tthis.domElement.addEventListener( 'mousedown', bind( this, this.onMouseDown ), false );\n\tthis.domElement.addEventListener( 'mouseup', bind( this, this.onMouseUp ), false );\n\tthis.domElement.addEventListener( 'keydown', bind( this, this.onKeyDown ), false );\n\tthis.domElement.addEventListener( 'keyup', bind( this, this.onKeyUp ), false );\n\n\tfunction bind( scope, fn ) {\n\n\t\treturn function () {\n\n\t\t\tfn.apply( scope, arguments );\n\n\t\t};\n\n\t};\n\n};\n"]],"start1":0,"start2":0,"length1":0,"length2":6601}]],"length":6601}
{"contributors":[],"silentsave":false,"ts":1369487424902,"patch":[[{"diffs":[[0,"eForward = true;"],[1," console.log(\"upupup\");"],[0," break;\n\n\t\t\tcase"]],"start1":2528,"start2":2528,"length1":32,"length2":55}]],"length":6624,"saved":false}
{"ts":1369487440364,"patch":[[{"diffs":[[0,"rue;"],[-1," console.log(\"upupup\");"],[0," bre"]],"start1":2540,"start2":2540,"length1":31,"length2":8}]],"length":6601,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369820376068,"patch":[[{"diffs":[[0,"rget,\n\t\t"],[-1,"\t"],[0,"position"]],"start1":5633,"start2":5633,"length1":17,"length2":16}]],"length":6600,"saved":false}
{"ts":1369822293381,"patch":[[{"diffs":[[0,"0;\n\t\t\n\t\t"],[1,"/*"],[0,"if ( !th"]],"start1":3482,"start2":3482,"length1":16,"length2":18},{"diffs":[[0," );\n\n\t\t}"],[1,"*/"],[0,"\n\t\n\n\t\tva"]],"start1":5028,"start2":5028,"length1":16,"length2":18}]],"length":6604,"saved":false}
{"ts":1369822595707,"patch":[[{"diffs":[[0,"0;\n\t\t\n\t\t"],[-1,"/*"],[0,"if ( !th"]],"start1":3482,"start2":3482,"length1":18,"length2":16},{"diffs":[[0," );\n\n\t\t}"],[-1,"*/"],[0,"\n\t\n\n\t\tva"]],"start1":5026,"start2":5026,"length1":18,"length2":16}]],"length":6600,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369851163210,"patch":[[{"diffs":[[0,"s.phi = "],[1,"window."],[0,"THREE.Ma"]],"start1":5507,"start2":5507,"length1":16,"length2":23}]],"length":6607,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369921950981,"patch":[[{"diffs":[[0,"m/\n */\n\n"],[1,"window."],[0,"THREE.Fi"]],"start1":133,"start2":133,"length1":16,"length2":23},{"diffs":[[0,"t = new "],[1,"window."],[0,"THREE.Ve"]],"start1":265,"start2":265,"length1":16,"length2":23}]],"length":6621,"saved":false}
{"ts":1369921988254,"patch":[[{"diffs":[[0,"};\n\n"],[-1,"\n\tthis.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\n\tthis.domElement.addEventListener( 'mousemove', bind( this, this.onMouseMove ), false );\n\tthis.domElement.addEventListener( 'mousedown', bind( this, this.onMouseDown ), false );\n\tthis.domElement.addEventListener( 'mouseup', bind( this, this.onMouseUp ), false );\n\tthis.domElement.addEventListener( 'keydown', bind( this, this.onKeyDown ), false );\n\tthis.domElement.addEventListener( 'keyup', bind( this, this.onKeyUp ), false );"],[0,"\n\n\tf"]],"start1":5975,"start2":5975,"length1":545,"length2":8}]],"length":6084,"saved":false}
{"ts":1369922093320,"patch":[[{"diffs":[[0,"};\n\n"],[-1,"\n\n\tfunction bind( scope, fn ) {\n\n\t\treturn function () {\n\n\t\t\tfn.apply( scope, arguments );\n\n\t\t};\n\n\t};\n\n"],[0,"};\n"]],"start1":5975,"start2":5975,"length1":109,"length2":7}]],"length":5982,"saved":false}
{"ts":1369922446401,"patch":[[{"diffs":[[0,";\n\n\t};\n\n"],[1,"\n\tthis.domElement.addEventListener( 'contextmenu', function ( event ) { event.preventDefault(); }, false );\n\n\tthis.domElement.addEventListener( 'mousemove', bind( this, this.onMouseMove ), false );\n\tthis.domElement.addEventListener( 'mousedown', bind( this, this.onMouseDown ), false );\n\tthis.domElement.addEventListener( 'mouseup', bind( this, this.onMouseUp ), false );\n\tthis.domElement.addEventListener( 'keydown', bind( this, this.onKeyDown ), false );\n\tthis.domElement.addEventListener( 'keyup', bind( this, this.onKeyUp ), false );\n\n\tfunction bind( scope, fn ) {\n\n\t\treturn function () {\n\n\t\t\tfn.apply( scope, arguments );\n\n\t\t};\n\n\t};\n\n"],[0,"};\n"]],"start1":5971,"start2":5971,"length1":11,"length2":650}]],"length":6621,"saved":false}
{"ts":1369922968847,"patch":[[{"diffs":[[0,"}, false );\n"],[-1,"\n"],[0,"\tthis.domEle"]],"start1":6075,"start2":6075,"length1":25,"length2":24}]],"length":6620,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369932497438,"patch":[[{"diffs":[[0,"function"],[-1," ( "],[1,"("],[0,"object, "]],"start1":176,"start2":176,"length1":19,"length2":17},{"diffs":[[0,", domElement"],[-1," "],[0,") {\n\n    thi"]],"start1":208,"start2":208,"length1":25,"length2":24},{"diffs":[[0,"object;\n"],[-1,"\t"],[1,"    "],[0,"this.tar"]],"start1":243,"start2":243,"length1":17,"length2":20},{"diffs":[[0,"or3("],[-1," "],[0,"0, 0, 0"],[-1," "],[0,");\n\n"],[-1,"\t"],[1,"    "],[0,"this"]],"start1":290,"start2":290,"length1":22,"length2":23},{"diffs":[[0,"ment = ("],[-1," "],[0,"domEleme"]],"start1":320,"start2":320,"length1":17,"length2":16},{"diffs":[[0,"ndefined"],[-1," "],[0,") ? domE"]],"start1":344,"start2":344,"length1":17,"length2":16},{"diffs":[[0,"ument;\n\n"],[-1,"\t"],[1,"    "],[0,"this.mov"]],"start1":372,"start2":372,"length1":17,"length2":20},{"diffs":[[0,"peed = 1.0;\n"],[-1,"\t"],[1,"    "],[0,"this.lookSpe"]],"start1":398,"start2":398,"length1":25,"length2":28},{"diffs":[[0," 0.05;\n\n"],[-1,"\t"],[1,"    "],[0,"this.noF"]],"start1":430,"start2":430,"length1":17,"length2":20},{"diffs":[[0,"ly = false;\n"],[-1,"\t"],[1,"    "],[0,"this.lookVer"]],"start1":450,"start2":450,"length1":25,"length2":28},{"diffs":[[0,"= true;\n"],[-1,"\t"],[1,"    "],[0,"this.aut"]],"start1":484,"start2":484,"length1":17,"length2":20},{"diffs":[[0,"d = false;\n\n"],[-1,"\t"],[1,"    "],[0,"this.activeL"]],"start1":511,"start2":511,"length1":25,"length2":28},{"diffs":[[0,"ok = true;\n\n"],[-1,"\t"],[1,"    "],[0,"this.heightS"]],"start1":540,"start2":540,"length1":25,"length2":28},{"diffs":[[0,"ed = false;\n"],[-1,"\t"],[1,"    "],[0,"this.heightC"]],"start1":570,"start2":570,"length1":25,"length2":28},{"diffs":[[0," = 1.0;\n"],[-1,"\t"],[1,"    "],[0,"this.hei"]],"start1":601,"start2":601,"length1":17,"length2":20},{"diffs":[[0,"Min = 0.0;\n\n"],[-1,"\t"],[1,"    "],[0,"this.constra"]],"start1":624,"start2":624,"length1":25,"length2":28},{"diffs":[[0,"al = false;\n"],[-1,"\t"],[1,"    "],[0,"this.vertica"]],"start1":660,"start2":660,"length1":25,"length2":28},{"diffs":[[0,"calMin = 0;\n"],[-1,"\t"],[1,"    "],[0,"this.vertica"]],"start1":686,"start2":686,"length1":25,"length2":28},{"diffs":[[0,"th.PI;\n\n"],[-1,"\t"],[1,"    "],[0,"this.aut"]],"start1":723,"start2":723,"length1":17,"length2":20},{"diffs":[[0,"tor = 0.0;\n\n"],[-1,"\t"],[1,"    "],[0,"this.mouseX "]],"start1":752,"start2":752,"length1":25,"length2":28},{"diffs":[[0,"mouseX = 0;\n"],[-1,"\t"],[1,"    "],[0,"this.mouseY "]],"start1":773,"start2":773,"length1":25,"length2":28},{"diffs":[[0,"mouseY = 0;\n"],[-1,"\n\t"],[1,"    this.mouseWheel = 0;\n\n    "],[0,"this.lat = 0"]],"start1":794,"start2":794,"length1":26,"length2":54},{"diffs":[[0,"is.lat = 0;\n"],[-1,"\t"],[1,"    "],[0,"this.lon = 0"]],"start1":838,"start2":838,"length1":25,"length2":28},{"diffs":[[0,"is.lon = 0;\n"],[-1,"\t"],[1,"    "],[0,"this.phi = 0"]],"start1":856,"start2":856,"length1":25,"length2":28},{"diffs":[[0,"hi = 0;\n"],[-1,"\t"],[1,"    "],[0,"this.the"]],"start1":878,"start2":878,"length1":17,"length2":20},{"diffs":[[0,"a = 0;\n\n"],[-1,"\t"],[1,"    "],[0,"this.mov"]],"start1":899,"start2":899,"length1":17,"length2":20},{"diffs":[[0,"orward = false;\n"],[-1,"\t"],[1,"    "],[0,"this.moveBackwar"]],"start1":921,"start2":921,"length1":33,"length2":36},{"diffs":[[0,"ckward = false;\n"],[-1,"\t"],[1,"    "],[0,"this.moveLeft = "]],"start1":952,"start2":952,"length1":33,"length2":36},{"diffs":[[0,"ft = false;\n"],[-1,"\t"],[1,"    "],[0,"this.moveRig"]],"start1":983,"start2":983,"length1":25,"length2":28},{"diffs":[[0," false;\n"],[-1,"\t"],[1,"    "],[0,"this.fre"]],"start1":1015,"start2":1015,"length1":17,"length2":20},{"diffs":[[0,"false;\n\n"],[-1,"\t"],[1,"    "],[0,"this.mou"]],"start1":1041,"start2":1041,"length1":17,"length2":20},{"diffs":[[0,"false;\n\n"],[-1,"\t"],[1,"    "],[0,"if ("],[-1," "],[0,"this.dom"]],"start1":1072,"start2":1072,"length1":22,"length2":24},{"diffs":[[0,"document"],[-1," "],[0,") {\n\n"],[-1,"\t\t"],[1,"        "],[0,"this.vie"]],"start1":1108,"start2":1108,"length1":24,"length2":29},{"diffs":[[0,"zeRatio)"],[1," "],[0,"/ 2;\n"],[-1,"\t\t"],[1,"        "],[0,"this.vie"]],"start1":1175,"start2":1175,"length1":23,"length2":30},{"diffs":[[0,"tio)"],[1," "],[0,"/ 2;\n\n"],[-1,"\t}"],[1,"    }\n   "],[0," els"]],"start1":1248,"start2":1248,"length1":16,"length2":24},{"diffs":[[0,"else {\n\n"],[-1,"\t\t"],[1,"        "],[0,"this.vie"]],"start1":1269,"start2":1269,"length1":18,"length2":24},{"diffs":[[0,"tWidth / 2;\n"],[-1,"\t\t"],[1,"        "],[0,"this.viewHal"]],"start1":1323,"start2":1323,"length1":26,"length2":32},{"diffs":[[0,"ht / 2;\n"],[-1,"\t\t"],[1,"        "],[0,"this.dom"]],"start1":1386,"start2":1386,"length1":18,"length2":24},{"diffs":[[0,"tribute("],[-1," "],[0,"'tabinde"]],"start1":1423,"start2":1423,"length1":17,"length2":16},{"diffs":[[0,"', -"],[-1,"1"],[0," "],[1,"1"],[0,");\n\n"],[-1,"\t}\n\n\t"],[1,"    }\n\n    "],[0,"this"]],"start1":1440,"start2":1440,"length1":19,"length2":25},{"diffs":[[0,"function"],[-1," ( "],[1,"("],[0,"event"],[-1," "],[0,") {\n\n"],[-1,"\t\t"],[1,"        "],[0,"if ("],[-1," "],[0,"this.dom"]],"start1":1480,"start2":1480,"length1":37,"length2":39},{"diffs":[[0,"!== document"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"this.domElem"]],"start1":1527,"start2":1527,"length1":33,"length2":41},{"diffs":[[0,"cus();\n\n"],[-1,"\t\t}\n\n\t\t"],[1,"        }\n\n        "],[0,"event.pr"]],"start1":1574,"start2":1574,"length1":23,"length2":35},{"diffs":[[0,"eventDefault();\n"],[-1,"\t\t"],[1,"        "],[0,"event.stopPropag"]],"start1":1609,"start2":1609,"length1":34,"length2":40},{"diffs":[[0,"Propagation();\n\n"],[-1,"\t\t"],[1,"        "],[0,"if ("],[-1," "],[0,"this.activeLook "]],"start1":1643,"start2":1643,"length1":39,"length2":44},{"diffs":[[0,"tiveLook"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"switch ("],[-1," "],[0,"event.bu"]],"start1":1678,"start2":1678,"length1":34,"length2":41},{"diffs":[[0,"tton"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t\tcase 0: this.moveForward = true; break;\n\t\t\t\tcase 2: this.moveBackward = true; break;\n\n\t\t\t}\n\n\t\t}\n\n\t\t"],[1,"            case 0:\n                this.moveForward = true;\n                break;\n            case 2:\n                this.moveBackward = true;\n                break;\n\n            }\n\n        }\n\n        "],[0,"this"]],"start1":1719,"start2":1719,"length1":117,"length2":217},{"diffs":[[0,"On = true;\n\n"],[-1,"\t};\n\n\t"],[1,"    };\n\n    "],[0,"this.onMouse"]],"start1":1946,"start2":1946,"length1":30,"length2":36},{"diffs":[[0,"function"],[-1," ( "],[1,"("],[0,"event"],[-1," "],[0,") {\n\n"],[-1,"\t\t"],[1,"        "],[0,"event.pr"]],"start1":1987,"start2":1987,"length1":32,"length2":35},{"diffs":[[0,"ault();\n"],[-1,"\t\t"],[1,"        "],[0,"event.st"]],"start1":2030,"start2":2030,"length1":18,"length2":24},{"diffs":[[0,"ion();\n\n"],[-1,"\t\t"],[1,"        "],[0,"if ("],[-1," "],[0,"this.act"]],"start1":2064,"start2":2064,"length1":23,"length2":28},{"diffs":[[0,"Look"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"switch ("],[-1," "],[0,"even"]],"start1":2095,"start2":2095,"length1":26,"length2":33},{"diffs":[[0,"tton"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t\tcase 0: this.moveForward = false; break;\n\t\t\t\tcase 2: this.moveBackward = false; break;\n\n\t\t\t}\n\n\t\t}\n\n\t\t"],[1,"            case 0:\n                this.moveForward = false;\n                break;\n            case 2:\n                this.moveBackward = false;\n                break;\n\n            }\n\n        }\n\n        "],[0,"this"]],"start1":2132,"start2":2132,"length1":119,"length2":219},{"diffs":[[0,"false;\n\n"],[-1,"\t};\n\n\t"],[1,"    };\n\n    "],[0,"this.onM"]],"start1":2366,"start2":2366,"length1":22,"length2":28},{"diffs":[[0,"tion"],[-1," ( "],[1,"("],[0,"event"],[-1," "],[0,") {\n\n"],[-1,"\t\t"],[1,"        "],[0,"if ("],[-1," "],[0,"this"]],"start1":2409,"start2":2409,"length1":29,"length2":31},{"diffs":[[0,"document"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"this.mou"]],"start1":2456,"start2":2456,"length1":25,"length2":33},{"diffs":[[0,"this.viewHalfX;\n"],[-1,"\t\t\t"],[1,"            "],[0,"this.mouseY = ev"]],"start1":2509,"start2":2509,"length1":35,"length2":44},{"diffs":[[0,"HalfY;\n\n"],[-1,"\t\t} else {\n\n\t\t\t"],[1,"        }\n        else {\n\n            "],[0,"this.mou"]],"start1":2574,"start2":2574,"length1":31,"length2":54},{"diffs":[[0,"wHalfX;\n"],[-1,"\t\t\t"],[1,"            "],[0,"this.mou"]],"start1":2685,"start2":2685,"length1":19,"length2":28},{"diffs":[[0,"HalfY;\n\n"],[-1,"\t\t}\n\n\t};\n\n\t"],[1,"        }\n\n    };\n\n    this.onMouseWheel = function(e) {\n        if (this.domElement === document) {\n            var event = window.event || event;\n            var delta = Math.max(-1, Math.min(1, (event.wheelDelta || -event.detail)));\n                        \n            if(window.mmo.CAM_POS_RATIO>0){\n                \n                //window.mmo.CAM_POS_RATIO += -delta/10;\n            }\n        }\n        else {\n\n        }\n\n    };\n\n    "],[0,"this.onK"]],"start1":2770,"start2":2770,"length1":27,"length2":458},{"diffs":[[0,"tion"],[-1," ( "],[1,"("],[0,"event"],[-1," "],[0,") {\n\n"],[-1,"\t\t"],[1,"        "],[0,"switch"],[-1,"("],[0," "],[1,"("],[0,"even"]],"start1":3241,"start2":3241,"length1":32,"length2":35},{"diffs":[[0,"Code"],[-1," "],[0,") {\n"],[-1,"\t\t\tcase 65: /*A*/ \n\t\t\t"],[1,"        case 65:\n            /*A*/\n            "],[0,"if"],[1," "],[0,"(thi"]],"start1":3281,"start2":3281,"length1":37,"length2":62},{"diffs":[[0,"d =="],[1,"="],[0," true)"],[-1,"\n\t\t\t\t"],[1," "],[0,"this"]],"start1":3355,"start2":3355,"length1":19,"length2":16},{"diffs":[[0," false;\n"],[-1,"\t\t\telse\n\t\t\t\t"],[1,"            else "],[0,"this.mov"]],"start1":3385,"start2":3385,"length1":28,"length2":33},{"diffs":[[0,"ue;\n"],[-1,"\t\t\tbreak;\n\t\t\tcase 90: /*Z*/ this.moveForward = true; break;\n\n\t\t\tcase 37: /*left*/\n\t\t\tcase 81: /*Q*/ this.moveLeft = true; break;\n\n\t\t\tcase 83: /*S*/ this.moveBackward = true; break;\n\n\t\t\tcase 39: /*right*/\n\t\t\tcase 68: /*D*/ this.moveRight = true; break;\n\n\t\t\tcase 38: /*up*/ this.moveUp = true; break;\n\t\t\tcase 40: /*down*/ this.moveDown = true; break;\n\n\t\t\tcase 70: /*F*/ \n\t\t\t"],[1,"            break;\n        case 90:\n            /*Z*/\n            this.moveForward = true;\n            break;\n\n        case 37:\n            /*left*/\n        case 81:\n            /*Q*/\n            this.moveLeft = true;\n            break;\n\n        case 83:\n            /*S*/\n            this.moveBackward = true;\n            break;\n\n        case 39:\n            /*right*/\n        case 68:\n            /*D*/\n            this.moveRight = true;\n            break;\n\n        case 38:\n            /*up*/\n            this.moveUp = true;\n            break;\n        case 40:\n            /*down*/\n            this.moveDown = true;\n            break;\n\n        case 70:\n            /*F*/\n            "],[0,"if"],[1," "],[0,"(thi"]],"start1":3431,"start2":3431,"length1":382,"length2":697},{"diffs":[[0,"e =="],[1,"="],[0," true)"],[1," "],[0,"{\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"this"]],"start1":4135,"start2":4135,"length1":20,"length2":34},{"diffs":[[0,"se;\n"],[-1,"\t\t\t\tconsole.log(\"freezer\")\n\t\t\t} \n\t\t\telse\n\t\t\t\tthis.freeze = true;\n\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\t"],[1,"                \n            }\n            else this.freeze = true;\n            break;\n\n        }\n\n    };\n\n    "],[0,"this"]],"start1":4182,"start2":4182,"length1":95,"length2":119},{"diffs":[[0,"tion"],[-1," ( "],[1,"("],[0,"event"],[-1," "],[0,") {\n\n"],[-1,"\t\t"],[1,"        "],[0,"switch"],[-1,"("],[0," "],[1,"("],[0,"even"]],"start1":4316,"start2":4316,"length1":32,"length2":35},{"diffs":[[0,"Code"],[-1," "],[0,") {\n\n"],[-1,"\t\t\tcase 90: /*Z*/ this.moveForward = false; break;\n\n\t\t\tcase 37: /*left*/\n\t\t\tcase 81: /*Q*/ this.moveLeft = false; break;\n\n\t\t\tcase 83: /*S*/ this.moveBackward = false; break;\n\n\t\t\tcase 39: /*right*/\n\t\t\tcase 68: /*D*/ this.moveRight = false; break;\n\n\t\t\tcase 38: /*up*/ this.moveUp = false; break;\n\t\t\tcase 40: /*down*/ this.moveDown = false; break;\n\n\t\t}\n\n\t};\n\n\t"],[1,"        case 90:\n            /*Z*/\n            this.moveForward = false;\n            break;\n\n        case 37:\n            /*left*/\n        case 81:\n            /*Q*/\n            this.moveLeft = false;\n            break;\n\n        case 83:\n            /*S*/\n            this.moveBackward = false;\n            break;\n\n        case 39:\n            /*right*/\n        case 68:\n            /*D*/\n            this.moveRight = false;\n            break;\n\n        case 38:\n            /*up*/\n            this.moveUp = false;\n            break;\n        case 40:\n            /*down*/\n            this.moveDown = false;\n            break;\n\n        }\n\n    };\n\n    "],[0,"this"]],"start1":4356,"start2":4356,"length1":371,"length2":662},{"diffs":[[0,"ion("],[-1," "],[0,"delta"],[-1," "],[0,") {\n"],[-1,"\t\t"],[1,"        "],[0,"var "]],"start1":5033,"start2":5033,"length1":21,"length2":25},{"diffs":[[0," 0;\n"],[-1,"\t\t\n\t\t"],[1,"\n        "],[0,"if ("],[-1," "],[0,"!thi"]],"start1":5075,"start2":5075,"length1":18,"length2":21},{"diffs":[[0,"eeze"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"if ("],[-1," "],[0,"this"]],"start1":5100,"start2":5100,"length1":22,"length2":29},{"diffs":[[0,"peed"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"var y = "],[1,"window."],[0,"THRE"]],"start1":5137,"start2":5137,"length1":26,"length2":44},{"diffs":[[0,"h.clamp("],[-1," "],[0,"this.obj"]],"start1":5186,"start2":5186,"length1":17,"length2":16},{"diffs":[[0,"tMax"],[-1," "],[0,");\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"var "]],"start1":5244,"start2":5244,"length1":16,"length2":27},{"diffs":[[0,"htMin;\n\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"this.aut"]],"start1":5298,"start2":5298,"length1":20,"length2":32},{"diffs":[[0,"elta * ("],[-1," "],[0,"heightDe"]],"start1":5346,"start2":5346,"length1":17,"length2":16},{"diffs":[[0,"Coef"],[-1," "],[0,");\n\n"],[-1,"\t\t\t} else {\n\n\t\t\t\t"],[1,"            }\n            else {\n\n                "],[0,"this"]],"start1":5379,"start2":5379,"length1":30,"length2":62},{"diffs":[[0,"= 0.0;\n\n"],[-1,"\t\t\t}\n\n\t\t\t"],[1,"            }\n\n            "],[0,"actualMo"]],"start1":5458,"start2":5458,"length1":25,"length2":43},{"diffs":[[0,"Speed;\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"if ("],[-1," "],[0,"this.mov"]],"start1":5532,"start2":5532,"length1":24,"length2":32},{"diffs":[[0,"ard || ("],[-1," "],[0,"this.aut"]],"start1":5569,"start2":5569,"length1":17,"length2":16},{"diffs":[[0,"Backward"],[-1," ) "],[1,")"],[0,") this.o"]],"start1":5607,"start2":5607,"length1":19,"length2":17},{"diffs":[[0,"teZ("],[-1," - ( "],[1,"-("],[0,"actu"]],"start1":5637,"start2":5637,"length1":13,"length2":10},{"diffs":[[0,"ctor"],[-1," ) );\n\t\t\t"],[1,"));\n            "],[0,"if ("],[-1," "],[0,"this"]],"start1":5677,"start2":5677,"length1":22,"length2":28},{"diffs":[[0,"Backward"],[-1," "],[0,") this.o"]],"start1":5710,"start2":5710,"length1":17,"length2":16},{"diffs":[[0,"nslateZ("],[-1," "],[0,"actualMo"]],"start1":5735,"start2":5735,"length1":17,"length2":16},{"diffs":[[0,"ualMoveSpeed"],[-1," "],[0,");\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"if ("],[-1," "],[0,"this.moveLef"]],"start1":5746,"start2":5746,"length1":37,"length2":44},{"diffs":[[0,"moveLeft"],[-1," "],[0,") this.o"]],"start1":5783,"start2":5783,"length1":17,"length2":16},{"diffs":[[0,"nslateX("],[-1," - "],[1,"-"],[0,"actualMo"]],"start1":5808,"start2":5808,"length1":19,"length2":17},{"diffs":[[0,"ualMoveSpeed"],[-1," "],[0,");\n"],[-1,"\t\t\t"],[1,"            "],[0,"if ("],[-1," "],[0,"this.moveRig"]],"start1":5820,"start2":5820,"length1":36,"length2":43},{"diffs":[[0,"oveRight"],[-1," "],[0,") this.o"]],"start1":5857,"start2":5857,"length1":17,"length2":16},{"diffs":[[0,"nslateX("],[-1," "],[0,"actualMo"]],"start1":5882,"start2":5882,"length1":17,"length2":16},{"diffs":[[0,"peed"],[-1," "],[0,");\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"if ("],[-1," "],[0,"this"]],"start1":5901,"start2":5901,"length1":21,"length2":28},{"diffs":[[0,"s.moveUp"],[-1," "],[0,") this.o"]],"start1":5928,"start2":5928,"length1":17,"length2":16},{"diffs":[[0,"nslateY("],[-1," "],[0,"actualMo"]],"start1":5953,"start2":5953,"length1":17,"length2":16},{"diffs":[[0,"peed"],[-1," "],[0,");\n"],[-1,"\t\t\t"],[1,"            "],[0,"if ("],[-1," "],[0,"this"]],"start1":5972,"start2":5972,"length1":20,"length2":27},{"diffs":[[0,"moveDown"],[-1," "],[0,") this.o"]],"start1":6000,"start2":6000,"length1":17,"length2":16},{"diffs":[[0,"nslateY("],[-1," - "],[1,"-"],[0,"actualMo"]],"start1":6025,"start2":6025,"length1":19,"length2":17},{"diffs":[[0,"peed"],[-1," "],[0,");\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"var "]],"start1":6045,"start2":6045,"length1":16,"length2":24},{"diffs":[[0,"d;\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"if ("],[-1," "],[0,"!thi"]],"start1":6108,"start2":6108,"length1":16,"length2":24},{"diffs":[[0,"Look"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"actu"]],"start1":6140,"start2":6140,"length1":18,"length2":29},{"diffs":[[0,"0;\n\n"],[-1,"\t\t\t}\n\n\t\t\t"],[1,"            }\n\n            "],[0,"this"]],"start1":6183,"start2":6183,"length1":17,"length2":35},{"diffs":[[0,"ed;\n"],[-1,"\t\t\tif( "],[1,"            if ("],[0,"this"]],"start1":6253,"start2":6253,"length1":15,"length2":24},{"diffs":[[0,"his.lookVertical"],[-1," "],[0,") this.lat += th"]],"start1":6274,"start2":6274,"length1":33,"length2":32},{"diffs":[[0,"Speed;\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"this.lat"]],"start1":6328,"start2":6328,"length1":19,"length2":28},{"diffs":[[0,".lat = Math.max("],[-1," - "],[1,"-"],[0,"85, Math.min( 85"]],"start1":6352,"start2":6352,"length1":35,"length2":33},{"diffs":[[0,"x(-85, Math.min("],[-1," "],[0,"85, this.lat ) )"]],"start1":6366,"start2":6366,"length1":33,"length2":32},{"diffs":[[0,".lat"],[-1," ) );\n\t\t\t"],[1,"));\n            "],[0,"this"]],"start1":6390,"start2":6390,"length1":17,"length2":24},{"diffs":[[0,"    this.phi = ("],[-1," "],[0,"90 - this.lat ) "]],"start1":6406,"start2":6406,"length1":33,"length2":32},{"diffs":[[0,"= (90 - this.lat"],[-1," "],[0,") * Math.PI / 18"]],"start1":6419,"start2":6419,"length1":33,"length2":32},{"diffs":[[0," / 180;\n"],[-1,"\t\t\t"],[1,"            "],[0,"this.the"]],"start1":6446,"start2":6446,"length1":19,"length2":28},{"diffs":[[0,"/ 180;\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"var targ"]],"start1":6498,"start2":6498,"length1":19,"length2":28},{"diffs":[[0,"et,\n"],[-1,"\t\t\t\t"],[1,"                "],[0,"posi"]],"start1":6548,"start2":6548,"length1":12,"length2":24},{"diffs":[[0,"ition;\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"targetPo"]],"start1":6594,"start2":6594,"length1":19,"length2":28},{"diffs":[[0," * Math.sin("],[-1," "],[0,"this.phi"],[-1," "],[0,") * Math.cos"]],"start1":6649,"start2":6649,"length1":34,"length2":32},{"diffs":[[0,"phi) * Math.cos("],[-1," "],[0,"this.theta );\n\t\t"]],"start1":6666,"start2":6666,"length1":33,"length2":32},{"diffs":[[0,"is.theta"],[-1," "],[0,");\n"],[-1,"\t\t\t"],[1,"            "],[0,"targetPo"]],"start1":6684,"start2":6684,"length1":23,"length2":31},{"diffs":[[0,"cos("],[-1," "],[0,"this.phi"],[-1," "],[0,");\n"],[-1,"\t\t\t"],[1,"            "],[0,"targ"]],"start1":6750,"start2":6750,"length1":24,"length2":31},{"diffs":[[0," * Math.sin("],[-1," "],[0,"this.phi"],[-1," "],[0,") * Math.sin"]],"start1":6812,"start2":6812,"length1":34,"length2":32},{"diffs":[[0,"phi) * Math.sin("],[-1," "],[0,"this.theta );\n\n\t"]],"start1":6829,"start2":6829,"length1":33,"length2":32},{"diffs":[[0,"heta"],[-1," "],[0,");\n\n"],[-1,"\t\t"],[1,"        "],[0,"}\n"],[-1,"\t"],[0,"\n\n"],[-1,"\t\t"],[1,"        "],[0,"var "]],"start1":6851,"start2":6851,"length1":22,"length2":32},{"diffs":[[0,"o = 1;\n\n"],[-1,"\t\t"],[1,"        "],[0,"if ("],[-1," "],[0,"this.con"]],"start1":6899,"start2":6899,"length1":23,"length2":28},{"diffs":[[0,"Vertical"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"vertical"]],"start1":6933,"start2":6933,"length1":25,"length2":33},{"diffs":[[0,"h.PI / ("],[-1," "],[0,"this.ver"]],"start1":6981,"start2":6981,"length1":17,"length2":16},{"diffs":[[0,"ticalMin"],[-1," "],[0,");\n\n"],[-1,"\t\t}\n\n\t\t"],[1,"        }\n        "],[0,"this.lon"]],"start1":7016,"start2":7016,"length1":28,"length2":38},{"diffs":[[0,"ed;\n"],[-1,"\t\tif( "],[1,"        if ("],[0,"this"]],"start1":7085,"start2":7085,"length1":14,"length2":20},{"diffs":[[0,"Vertical"],[-1," "],[0,") this.l"]],"start1":7110,"start2":7110,"length1":17,"length2":16},{"diffs":[[0,"Ratio;\n\n"],[-1,"\t\t"],[1,"        "],[0,"this.lat"]],"start1":7176,"start2":7176,"length1":18,"length2":24},{"diffs":[[0,"ath.max("],[-1," - "],[1,"-"],[0,"85, Math"]],"start1":7204,"start2":7204,"length1":19,"length2":17},{"diffs":[[0,"ath.min("],[-1," "],[0,"85, this"]],"start1":7218,"start2":7218,"length1":17,"length2":16},{"diffs":[[0,".lat"],[-1," ) );\n\t\t"],[1,"));\n        "],[0,"this"]],"start1":7234,"start2":7234,"length1":16,"length2":20},{"diffs":[[0,".phi = ("],[-1," "],[0,"90 - thi"]],"start1":7254,"start2":7254,"length1":17,"length2":16},{"diffs":[[0,"this.lat"],[-1," "],[0,") * Math"]],"start1":7267,"start2":7267,"length1":17,"length2":16},{"diffs":[[0,"/ 180;\n\n"],[-1,"\t\t"],[1,"        "],[0,"this.the"]],"start1":7287,"start2":7287,"length1":18,"length2":24},{"diffs":[[0,"0;\n\n"],[-1,"\t\t"],[1,"        "],[0,"if ("],[-1," "],[0,"this"]],"start1":7339,"start2":7339,"length1":15,"length2":20},{"diffs":[[0,"ical"],[-1," "],[0,") {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"this"]],"start1":7373,"start2":7373,"length1":17,"length2":25},{"diffs":[[0,"pLinear("],[-1," "],[0,"this.phi"]],"start1":7425,"start2":7425,"length1":17,"length2":16},{"diffs":[[0,"lMax"],[-1," "],[0,");\n\n"],[-1,"\t\t}\n\n\t\t"],[1,"        }\n\n        "],[0,"var "]],"start1":7485,"start2":7485,"length1":20,"length2":31},{"diffs":[[0,"target,\n"],[-1,"\t\t"],[1,"            "],[0,"position"]],"start1":7538,"start2":7538,"length1":18,"length2":28},{"diffs":[[0,"ition;\n\n"],[-1,"\t\t"],[1,"        "],[0,"targetPo"]],"start1":7584,"start2":7584,"length1":18,"length2":24},{"diffs":[[0," * Math.sin("],[-1," "],[0,"this.phi"],[-1," "],[0,") * Math.cos"]],"start1":7635,"start2":7635,"length1":34,"length2":32},{"diffs":[[0," * Math.cos("],[-1," "],[0,"this.theta )"]],"start1":7656,"start2":7656,"length1":25,"length2":24},{"diffs":[[0,"is.theta"],[-1," "],[0,");\n"],[-1,"\t\t"],[1,"        "],[0,"targetPo"]],"start1":7670,"start2":7670,"length1":22,"length2":27},{"diffs":[[0,"cos("],[-1," "],[0,"this.phi"],[-1," "],[0,");\n"],[-1,"\t\t"],[1,"        "],[0,"targ"]],"start1":7732,"start2":7732,"length1":23,"length2":27},{"diffs":[[0,"ath.sin("],[-1," "],[0,"this.phi"],[-1," "],[0,") * Math"]],"start1":7794,"start2":7794,"length1":26,"length2":24},{"diffs":[[0,"ath.sin("],[-1," "],[0,"this.the"]],"start1":7815,"start2":7815,"length1":17,"length2":16},{"diffs":[[0,"is.theta"],[-1," "],[0,");\n\n"],[-1,"\t\t"],[1,"        "],[0,"this.obj"]],"start1":7825,"start2":7825,"length1":23,"length2":28},{"diffs":[[0,".lookAt("],[-1," "],[0,"targetPo"]],"start1":7856,"start2":7856,"length1":17,"length2":16},{"diffs":[[0,"tion"],[-1," "],[0,");\n\n"],[-1,"\t"],[1,"    "],[0,"};\n\n\n"],[-1,"\t"],[1,"    "],[0,"this"]],"start1":7874,"start2":7874,"length1":20,"length2":25},{"diffs":[[0,"istener("],[-1," "],[0,"'context"]],"start1":7920,"start2":7920,"length1":17,"length2":16},{"diffs":[[0,"tion"],[-1," ( "],[1,"("],[0,"event"],[-1," "],[0,") {"],[1,"\n       "],[0," eve"]],"start1":7947,"start2":7947,"length1":20,"length2":25},{"diffs":[[0,"fault();"],[1,"\n   "],[0," }, fals"]],"start1":7984,"start2":7984,"length1":16,"length2":20},{"diffs":[[0,"    }, false"],[-1," "],[0,");\n"],[-1,"\t"],[1,"    "],[0,"this.domElem"]],"start1":7993,"start2":7993,"length1":29,"length2":31},{"diffs":[[0,"entListener("],[-1," "],[0,"'mousemove',"]],"start1":8033,"start2":8033,"length1":25,"length2":24},{"diffs":[[0,"ousemove', bind("],[-1," "],[0,"this, this.onMou"]],"start1":8047,"start2":8047,"length1":33,"length2":32},{"diffs":[[0,"ouseMove"],[-1," "],[0,"), false"],[-1," "],[0,");\n"],[-1,"\t"],[1,"    "],[0,"this.dom"]],"start1":8077,"start2":8077,"length1":30,"length2":31},{"diffs":[[0,"entListener("],[-1," "],[0,"'mousedown',"]],"start1":8121,"start2":8121,"length1":25,"length2":24},{"diffs":[[0,"ousedown', bind("],[-1," "],[0,"this, this.onMou"]],"start1":8135,"start2":8135,"length1":33,"length2":32},{"diffs":[[0,".onMouseDown"],[-1," "],[0,"), false"],[-1," "],[0,");\n"],[-1,"\t"],[1,"    "],[0,"this.domElem"]],"start1":8161,"start2":8161,"length1":38,"length2":39},{"diffs":[[0,"istener("],[-1," "],[0,"'mouseup"]],"start1":8213,"start2":8213,"length1":17,"length2":16},{"diffs":[[0,"'mouseup', bind("],[-1," "],[0,"this, this.onMou"]],"start1":8221,"start2":8221,"length1":33,"length2":32},{"diffs":[[0,"nMouseUp"],[-1," "],[0,"), false"],[-1," "],[0,");\n"],[-1,"\t"],[1,"    "],[0,"this.dom"]],"start1":8249,"start2":8249,"length1":30,"length2":31},{"diffs":[[0,"entListener("],[-1," "],[0,"'keydown', b"]],"start1":8293,"start2":8293,"length1":25,"length2":24},{"diffs":[[0,"'keydown', bind("],[-1," "],[0,"this, this.onKey"]],"start1":8305,"start2":8305,"length1":33,"length2":32},{"diffs":[[0,"Down"],[-1," "],[0,"), false"],[-1," "],[0,");\n"],[-1,"\t"],[1,"    "],[0,"this"]],"start1":8337,"start2":8337,"length1":22,"length2":23},{"diffs":[[0,"istener("],[-1," "],[0,"'keyup',"]],"start1":8381,"start2":8381,"length1":17,"length2":16},{"diffs":[[0,"', bind("],[-1," "],[0,"this, th"]],"start1":8395,"start2":8395,"length1":17,"length2":16},{"diffs":[[0,"eyUp"],[-1," "],[0,"), false"],[-1," );\n\n\t"],[1,");\n    this.domElement.addEventListener('mousewheel', bind(this, this.onMouseWheel), false);\n\n    "],[0,"func"]],"start1":8417,"start2":8417,"length1":23,"length2":114},{"diffs":[[0,"on bind("],[-1," "],[0,"scope, f"]],"start1":8533,"start2":8533,"length1":17,"length2":16},{"diffs":[[0,", fn"],[-1," "],[0,") {\n\n"],[-1,"\t\t"],[1,"        "],[0,"retu"]],"start1":8546,"start2":8546,"length1":16,"length2":21},{"diffs":[[0,"tion"],[-1," "],[0,"() {\n\n"],[-1,"\t\t\t"],[1,"            "],[0,"fn.a"]],"start1":8574,"start2":8574,"length1":18,"length2":26},{"diffs":[[0,"n.apply("],[-1," "],[0,"scope, a"]],"start1":8597,"start2":8597,"length1":17,"length2":16},{"diffs":[[0,"ents"],[-1," "],[0,");\n\n"],[-1,"\t\t};\n\n\t"],[1,"        };\n\n    "],[0,"};\n\n"]],"start1":8617,"start2":8617,"length1":20,"length2":28}]],"length":8648,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369983253519,"patch":[[{"diffs":[[0,"function"],[-1,""],[0,""],[1," "],[0,"(object,"]],"start1":176,"start2":176,"length1":16,"length2":17},{"diffs":[[0,"eDown = function"],[-1,""],[0,""],[1," "],[0,"(event) {\n\n     "]],"start1":1473,"start2":1473,"length1":32,"length2":33},{"diffs":[[0,"useUp = function"],[-1,""],[0,""],[1," "],[0,"(event) {\n\n     "]],"start1":1981,"start2":1981,"length1":32,"length2":33},{"diffs":[[0,"eMove = function"],[-1,""],[0,""],[1," "],[0,"(event) {\n\n     "]],"start1":2400,"start2":2400,"length1":32,"length2":33},{"diffs":[[0,"function"],[-1,""],[0,""],[1," "],[0,"(e) {\n  "]],"start1":2825,"start2":2825,"length1":16,"length2":17},{"diffs":[[0,"));\n"],[-1,"                        "],[0,"\n   "]],"start1":3015,"start2":3015,"length1":32,"length2":8},{"diffs":[[0,"      if"],[1," "],[0,"(window."]],"start1":3026,"start2":3026,"length1":16,"length2":17},{"diffs":[[0,"ATIO"],[-1,">"],[1," > "],[0,"0)"],[1," "],[0,"{\n"],[-1,"                "],[0,"\n   "]],"start1":3056,"start2":3056,"length1":29,"length2":16},{"diffs":[[0,"       }\n\n    };"],[1,"\n    \n    var jumper = function (__event) {\n            console.log(__event.KeyCode());\n            console.log(\"OK\");\n            \n    }"],[0,"\n\n    this.onKey"]],"start1":3167,"start2":3167,"length1":32,"length2":169},{"diffs":[[0,"yDown = function"],[1," "],[0,"(event) {\n\n     "]],"start1":3335,"start2":3335,"length1":32,"length2":33},{"diffs":[[0,"        break;\n\n"],[1,"        case 32:\n            this.moveUp = true;\n            break;\n\n"],[0,"        case 37:"]],"start1":3637,"start2":3637,"length1":32,"length2":101},{"diffs":[[0," false;\n"],[-1,"                "],[0,""],[1,""],[0,"\n       "]],"start1":4354,"start2":4354,"length1":32,"length2":16},{"diffs":[[0,"     }\n\n    };\n\n"],[1,"\n"],[0,"    this.onKeyUp"]],"start1":4437,"start2":4437,"length1":32,"length2":33},{"diffs":[[0,"KeyUp = function"],[1," "],[0,"(event) {\n\n     "]],"start1":4465,"start2":4465,"length1":32,"length2":33},{"diffs":[[0,"        break;\n\n"],[1,"        case 32:\n            this.moveUp = false;\n            this.moveDown = true;\n            var that = this;\n            setTimeout(function(){\n                that.moveDown = false;\n                window.mmo.avatar_obj.position.y = 0;\n                }, 200);\n            break;\n"],[0,"        case 37:"]],"start1":4604,"start2":4604,"length1":32,"length2":317},{"diffs":[[0,"function"],[-1,""],[0,""],[1," "],[0,"(delta) "]],"start1":5475,"start2":5475,"length1":16,"length2":17},{"diffs":[[0,"\n            }\n\n"],[1,"            if(this.jump){\n              this.jumper();\n            } \n"],[0,"            actu"]],"start1":5913,"start2":5913,"length1":32,"length2":103},{"diffs":[[0,"function"],[-1,""],[0,""],[1," "],[0,"(event) "]],"start1":8462,"start2":8462,"length1":16,"length2":17},{"diffs":[[0,"function"],[-1,""],[0,""],[1," "],[0,"() {\n\n  "]],"start1":9090,"start2":9090,"length1":16,"length2":17}]],"length":9169,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369991364853,"patch":[[{"diffs":[[0,"tical = "],[-1,"true"],[1,"window.mmo.CAM_LOOK_VERT"],[0,";\n    th"]],"start1":479,"start2":479,"length1":20,"length2":40},{"diffs":[[0,"\n    };\n"],[-1,"    "],[0,"\n"],[1,""],[0,"    var "]],"start1":3196,"start2":3196,"length1":21,"length2":17},{"diffs":[[0,"\");\n"],[-1,"            "],[0,"\n"],[1,""],[0,"    "]],"start1":3314,"start2":3314,"length1":21,"length2":9},{"diffs":[[0,"s.jumper();\n"],[1,""],[0,"            "]],"start1":5977,"start2":5977,"length1":24,"length2":24},{"diffs":[[0,"       }"],[-1," "],[0,"\n       "]],"start1":5994,"start2":5994,"length1":17,"length2":16}]],"length":9172,"saved":false}
{"contributors":[],"silentsave":false,"ts":1370011247097,"patch":[[{"diffs":[[0,"    "],[-1,"this.domElement.addEventListener('contextmenu', function (event) {\n        event.preventDefault();\n    }, false);\n    this.domElement.addEventListener('mousemove', bind(this, this.onMouseMove), false);\n    this.domElement.addEventListener('mousedown', bind(this, this.onMouseDown), false);\n    this.domElement.addEventListener('mouseup', bind(this, this.onMouseUp), false);\n    this.domElement.addEventListener('keydown', bind(this, this.onKeyDown), false);\n    this.domElement.addEventListener('keyup', bind(this, this.onKeyUp), false);\n    this.domElement.addEventListener('mousewheel', bind(this, this.onMouseWheel), false);"],[0,"\n\n  "]],"start1":8413,"start2":8413,"length1":635,"length2":8}]],"length":8545,"saved":false}
{"ts":1370011250136,"patch":[[{"diffs":[[0,"};\n\n"],[-1,"\n    \n\n"],[0,"    "]],"start1":8408,"start2":8408,"length1":15,"length2":8}]],"length":8538,"saved":false}
{"ts":1370012183094,"patch":[[{"diffs":[[0,"ction (event) {\n"],[1,"        console.log(this.domElement);   "],[0,"\n        if (thi"]],"start1":2431,"start2":2431,"length1":32,"length2":72}]],"length":8578,"saved":false}
{"ts":1370012187306,"patch":[[{"diffs":[[0,"lement);"],[-1,"   "],[0,"\n       "]],"start1":2476,"start2":2476,"length1":19,"length2":16}]],"length":8575,"saved":false}
{"ts":1370012239932,"patch":[[{"diffs":[[0,"cument;\n"],[1,"    console.log(domElement);"],[0,"\n    thi"]],"start1":372,"start2":372,"length1":16,"length2":44}]],"length":8603,"saved":false}
{"ts":1370012304896,"patch":[[{"diffs":[[0,"    "],[-1,"console.log(domElement);"],[0,"\n   "]],"start1":380,"start2":380,"length1":32,"length2":8},{"diffs":[[0," false;\n\n    };\n"],[1,"    var that = this;"],[0,"\n    this.onMous"]],"start1":2392,"start2":2392,"length1":32,"length2":52},{"diffs":[[0,"e.log(th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":2485,"start2":2485,"length1":18,"length2":18},{"diffs":[[0,"t.pageX - th"],[-1,"is"],[1,"at"],[0,".domElement."]],"start1":2723,"start2":2723,"length1":26,"length2":26},{"diffs":[[0,"geY - th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":2812,"start2":2812,"length1":18,"length2":18}]],"length":8599,"saved":false}
{"ts":1370012308548,"patch":[[{"diffs":[[0," };\n"],[-1,"    var that = this;\n    "],[1,"\n"],[0,"this"]],"start1":2404,"start2":2404,"length1":33,"length2":9}]],"length":8575,"saved":false}
{"ts":1370012312256,"patch":[[{"diffs":[[0,"    };\n\n"],[1,"    "],[0,"this.onM"]],"start1":2401,"start2":2401,"length1":16,"length2":20}]],"length":8579,"saved":false}
{"ts":1370012329180,"patch":[[{"diffs":[[0,"cument;\n"],[1,"\n"],[0,"    "],[1,"var that = this;\n"],[0,"\n    thi"]],"start1":372,"start2":372,"length1":20,"length2":38}]],"length":8597,"saved":false}
{"ts":1370012360526,"patch":[[{"diffs":[[0,"{\n        if (th"],[-1,"is"],[1,"at"],[0,".domElement === "]],"start1":2917,"start2":2917,"length1":34,"length2":34}]],"length":8597,"saved":false}
{"ts":1370012374236,"patch":[[{"diffs":[[0," 0);\n\n    th"],[-1,"is"],[1,"at"],[0,".domElement "]],"start1":300,"start2":300,"length1":26,"length2":26},{"diffs":[[0,"lse;\n\n    if (th"],[-1,"is"],[1,"at"],[0,".domElement === "]],"start1":1117,"start2":1117,"length1":34,"length2":34},{"diffs":[[0,"ewHalfX = th"],[-1,"is"],[1,"at"],[0,".domElement."]],"start1":1335,"start2":1335,"length1":26,"length2":26},{"diffs":[[0,"lfY = th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":1397,"start2":1397,"length1":18,"length2":18},{"diffs":[[0," / 2;\n        th"],[-1,"is"],[1,"at"],[0,".domElement.setA"]],"start1":1431,"start2":1431,"length1":34,"length2":34},{"diffs":[[0,"\n\n        if (th"],[-1,"is"],[1,"at"],[0,".domElement !== "]],"start1":1541,"start2":1541,"length1":34,"length2":34},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":1594,"start2":1594,"length1":18,"length2":18},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":2513,"start2":2513,"length1":18,"length2":18}]],"length":8597,"saved":false}
{"ts":1370012386617,"patch":[[{"diffs":[[0," 0);\n\n    th"],[-1,"at"],[1,"is"],[0,".domElement "]],"start1":300,"start2":300,"length1":26,"length2":26}]],"length":8597,"saved":false}
{"ts":1370012409322,"patch":[[{"diffs":[[0,"    "],[-1,"console.log(that.domElement);"],[0,"\n   "]],"start1":2473,"start2":2473,"length1":37,"length2":8}]],"length":8568,"saved":false}
{"ts":1370012640081,"patch":[[{"diffs":[[0,"    "],[-1,"var that = this;\n\n    "],[0,""],[1,""],[0,"this"]],"start1":381,"start2":381,"length1":30,"length2":8},{"diffs":[[0,"lse;\n\n    if (th"],[-1,"at"],[1,"is"],[0,".domElement === "]],"start1":1095,"start2":1095,"length1":34,"length2":34},{"diffs":[[0,"ewHalfX = th"],[-1,"at"],[1,"is"],[0,".domElement."]],"start1":1313,"start2":1313,"length1":26,"length2":26},{"diffs":[[0,"lfY = th"],[-1,"at"],[1,"is"],[0,".domElem"]],"start1":1375,"start2":1375,"length1":18,"length2":18},{"diffs":[[0," / 2;\n        th"],[-1,"at"],[1,"is"],[0,".domElement.setA"]],"start1":1409,"start2":1409,"length1":34,"length2":34},{"diffs":[[0,"\n\n        if (th"],[-1,"at"],[1,"is"],[0,".domElement !== "]],"start1":1519,"start2":1519,"length1":34,"length2":34},{"diffs":[[0,"      th"],[-1,"at"],[1,"is"],[0,".domElem"]],"start1":1572,"start2":1572,"length1":18,"length2":18},{"diffs":[[0,"        "],[1,"console.log(this.domElement)"],[0,"\n       "]],"start1":2447,"start2":2447,"length1":16,"length2":44},{"diffs":[[0,")\n        if (th"],[-1,"at"],[1,"is"],[0,".domElement === "]],"start1":2482,"start2":2482,"length1":34,"length2":34},{"diffs":[[0,"t.pageX - th"],[-1,"at"],[1,"is"],[0,".domElement."]],"start1":2698,"start2":2698,"length1":26,"length2":26},{"diffs":[[0,"geY - th"],[-1,"at"],[1,"is"],[0,".domElem"]],"start1":2787,"start2":2787,"length1":18,"length2":18},{"diffs":[[0,"  if (th"],[-1,"at"],[1,"is"],[0,".domElem"]],"start1":2902,"start2":2902,"length1":18,"length2":18}]],"length":8574,"saved":false}
{"ts":1370012641886,"patch":[[{"diffs":[[0,"Element)"],[1,";"],[0,"\n       "]],"start1":2475,"start2":2475,"length1":16,"length2":17}]],"length":8575,"saved":false}
{"ts":1370012853909,"patch":[[{"diffs":[[0,"ument;\n\n    "],[-1,""],[0,""],[1,"var that = this;\n    \n    "],[0,"this.movemen"]],"start1":373,"start2":373,"length1":24,"length2":50},{"diffs":[[0,"lse;\n\n    if (th"],[-1,"is"],[1,"at"],[0,".domElement === "]],"start1":1121,"start2":1121,"length1":34,"length2":34},{"diffs":[[0,"ewHalfX = th"],[-1,"is"],[1,"at"],[0,".domElement."]],"start1":1339,"start2":1339,"length1":26,"length2":26},{"diffs":[[0,"lfY = th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":1401,"start2":1401,"length1":18,"length2":18},{"diffs":[[0," / 2;\n        th"],[-1,"is"],[1,"at"],[0,".domElement.setA"]],"start1":1435,"start2":1435,"length1":34,"length2":34},{"diffs":[[0,"\n\n        if (th"],[-1,"is"],[1,"at"],[0,".domElement !== "]],"start1":1545,"start2":1545,"length1":34,"length2":34},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".domElement."]],"start1":1594,"start2":1594,"length1":26,"length2":26},{"diffs":[[0,"e.log(th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":2487,"start2":2487,"length1":18,"length2":18},{"diffs":[[0,";\n        if (th"],[-1,"is"],[1,"at"],[0,".domElement === "]],"start1":2509,"start2":2509,"length1":34,"length2":34},{"diffs":[[0,"t.pageX - th"],[-1,"is"],[1,"at"],[0,".domElement."]],"start1":2725,"start2":2725,"length1":26,"length2":26},{"diffs":[[0,"geY - th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":2814,"start2":2814,"length1":18,"length2":18},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":2929,"start2":2929,"length1":18,"length2":18}]],"length":8601,"saved":false}
{"ts":1370012914611,"patch":[[{"diffs":[[0,"\n\n            th"],[-1,"is"],[1,"at"],[0,".mouseX = event."]],"start1":2554,"start2":2554,"length1":34,"length2":34},{"diffs":[[0,"t.pageX - th"],[-1,"is"],[1,"at"],[0,".viewHalfX;\n"]],"start1":2586,"start2":2586,"length1":26,"length2":26},{"diffs":[[0,";\n            th"],[-1,"is"],[1,"at"],[0,".mouseY = event."]],"start1":2610,"start2":2610,"length1":34,"length2":34},{"diffs":[[0,"t.pageY - th"],[-1,"is"],[1,"at"],[0,".viewHalfY;\n"]],"start1":2642,"start2":2642,"length1":26,"length2":26},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".mouseX = ev"]],"start1":2697,"start2":2697,"length1":26,"length2":26},{"diffs":[[0,"setLeft - th"],[-1,"is"],[1,"at"],[0,".viewHalfX;\n"]],"start1":2754,"start2":2754,"length1":26,"length2":26},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".mouseY = ev"]],"start1":2782,"start2":2782,"length1":26,"length2":26},{"diffs":[[0,"Top - th"],[-1,"is"],[1,"at"],[0,".viewHal"]],"start1":2842,"start2":2842,"length1":18,"length2":18}]],"length":8601,"saved":false}
{"ts":1370013047600,"patch":[[{"diffs":[[0,"t) {\n\n    th"],[-1,"is"],[1,"at"],[0,".object = ob"]],"start1":220,"start2":220,"length1":26,"length2":26},{"diffs":[[0,";\n    th"],[-1,"is"],[1,"at"],[0,".target "]],"start1":250,"start2":250,"length1":18,"length2":18},{"diffs":[[0,"\n\n    th"],[-1,"is"],[1,"at"],[0,".domElem"]],"start1":304,"start2":304,"length1":18,"length2":18},{"diffs":[[0,"ar that = th"],[-1,"is"],[1,"at"],[0,";\n    \n    t"]],"start1":386,"start2":386,"length1":26,"length2":26},{"diffs":[[0,"\n    \n    th"],[-1,"is"],[1,"at"],[0,".movementSpe"]],"start1":401,"start2":401,"length1":26,"length2":26},{"diffs":[[0," 1.0;\n    th"],[-1,"is"],[1,"at"],[0,".lookSpeed ="]],"start1":431,"start2":431,"length1":26,"length2":26},{"diffs":[[0,"\n\n    th"],[-1,"is"],[1,"at"],[0,".noFly ="]],"start1":463,"start2":463,"length1":18,"length2":18},{"diffs":[[0,";\n    th"],[-1,"is"],[1,"at"],[0,".lookVer"]],"start1":487,"start2":487,"length1":18,"length2":18},{"diffs":[[0,"VERT;\n    th"],[-1,"is"],[1,"at"],[0,".autoForward"]],"start1":533,"start2":533,"length1":26,"length2":26},{"diffs":[[0,"\n\n    th"],[-1,"is"],[1,"at"],[0,".activeL"]],"start1":568,"start2":568,"length1":18,"length2":18},{"diffs":[[0,"rue;\n\n    th"],[-1,"is"],[1,"at"],[0,".heightSpeed"]],"start1":593,"start2":593,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"is"],[1,"at"],[0,".heightCoef "]],"start1":623,"start2":623,"length1":26,"length2":26},{"diffs":[[0,";\n    th"],[-1,"is"],[1,"at"],[0,".heightM"]],"start1":654,"start2":654,"length1":18,"length2":18},{"diffs":[[0,"\n\n    th"],[-1,"is"],[1,"at"],[0,".constra"]],"start1":681,"start2":681,"length1":18,"length2":18},{"diffs":[[0," = false;\n    th"],[-1,"is"],[1,"at"],[0,".verticalMin = 0"]],"start1":709,"start2":709,"length1":34,"length2":34},{"diffs":[[0,";\n    th"],[-1,"is"],[1,"at"],[0,".vertica"]],"start1":743,"start2":743,"length1":18,"length2":18},{"diffs":[[0,".PI;\n\n    th"],[-1,"is"],[1,"at"],[0,".autoSpeedFa"]],"start1":772,"start2":772,"length1":26,"length2":26},{"diffs":[[0,"0.0;\n\n    th"],[-1,"is"],[1,"at"],[0,".mouseX = 0;"]],"start1":805,"start2":805,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"is"],[1,"at"],[0,".mouseY = 0;"]],"start1":826,"start2":826,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"is"],[1,"at"],[0,".mouseWheel "]],"start1":847,"start2":847,"length1":26,"length2":26},{"diffs":[[0,"= 0;\n\n    th"],[-1,"is"],[1,"at"],[0,".lat = 0;\n  "]],"start1":873,"start2":873,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"is"],[1,"at"],[0,".lon = 0;\n  "]],"start1":891,"start2":891,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"is"],[1,"at"],[0,".phi = 0;\n  "]],"start1":909,"start2":909,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"is"],[1,"at"],[0,".theta = 0;\n"]],"start1":927,"start2":927,"length1":26,"length2":26},{"diffs":[[0,"= 0;\n\n    th"],[-1,"is"],[1,"at"],[0,".moveForward"]],"start1":948,"start2":948,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"is"],[1,"at"],[0,".moveBackwar"]],"start1":978,"start2":978,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"is"],[1,"at"],[0,".moveLeft = "]],"start1":1009,"start2":1009,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"is"],[1,"at"],[0,".moveRight ="]],"start1":1036,"start2":1036,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"is"],[1,"at"],[0,".freeze = fa"]],"start1":1064,"start2":1064,"length1":26,"length2":26},{"diffs":[[0,"lse;\n\n    th"],[-1,"is"],[1,"at"],[0,".mouseDragOn"]],"start1":1090,"start2":1090,"length1":26,"length2":26},{"diffs":[[0,"t) {\n\n        th"],[-1,"is"],[1,"at"],[0,".viewHalfX = (wi"]],"start1":1162,"start2":1162,"length1":34,"length2":34},{"diffs":[[0," / 2;\n        th"],[-1,"is"],[1,"at"],[0,".viewHalfY = (wi"]],"start1":1230,"start2":1230,"length1":34,"length2":34},{"diffs":[[0,"se {\n\n        th"],[-1,"is"],[1,"at"],[0,".viewHalfX = tha"]],"start1":1318,"start2":1318,"length1":34,"length2":34},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".viewHal"]],"start1":1384,"start2":1384,"length1":18,"length2":18},{"diffs":[[0,"\n\n        if (th"],[-1,"is"],[1,"at"],[0,".activeLook) {\n\n"]],"start1":1705,"start2":1705,"length1":34,"length2":34},{"diffs":[[0,"              th"],[-1,"is"],[1,"at"],[0,".moveForward = t"]],"start1":1798,"start2":1798,"length1":34,"length2":34},{"diffs":[[0,"              th"],[-1,"is"],[1,"at"],[0,".moveBackward = "]],"start1":1882,"start2":1882,"length1":34,"length2":34},{"diffs":[[0,"   }\n\n        th"],[-1,"is"],[1,"at"],[0,".mouseDragOn = t"]],"start1":1966,"start2":1966,"length1":34,"length2":34},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".activeL"]],"start1":2127,"start2":2127,"length1":18,"length2":18},{"diffs":[[0,"              th"],[-1,"is"],[1,"at"],[0,".moveForward = f"]],"start1":2212,"start2":2212,"length1":34,"length2":34},{"diffs":[[0,"              th"],[-1,"is"],[1,"at"],[0,".moveBackward = "]],"start1":2297,"start2":2297,"length1":34,"length2":34},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".mouseDr"]],"start1":2390,"start2":2390,"length1":18,"length2":18},{"diffs":[[0,"          if (th"],[-1,"is"],[1,"at"],[0,".moveForward ==="]],"start1":3500,"start2":3500,"length1":34,"length2":34},{"diffs":[[0,"true) th"],[-1,"is"],[1,"at"],[0,".moveFor"]],"start1":3535,"start2":3535,"length1":18,"length2":18},{"diffs":[[0," else th"],[-1,"is"],[1,"at"],[0,".moveFor"]],"start1":3578,"start2":3578,"length1":18,"length2":18},{"diffs":[[0,"/\n            th"],[-1,"is"],[1,"at"],[0,".moveForward = t"]],"start1":3661,"start2":3661,"length1":34,"length2":34},{"diffs":[[0,":\n            th"],[-1,"is"],[1,"at"],[0,".moveUp = true;\n"]],"start1":3735,"start2":3735,"length1":34,"length2":34},{"diffs":[[0,"/\n            th"],[-1,"is"],[1,"at"],[0,".moveLeft = true"]],"start1":3860,"start2":3860,"length1":34,"length2":34},{"diffs":[[0,"/\n            th"],[-1,"is"],[1,"at"],[0,".moveBackward = "]],"start1":3949,"start2":3949,"length1":34,"length2":34},{"diffs":[[0,"/\n            th"],[-1,"is"],[1,"at"],[0,".moveRight = tru"]],"start1":4081,"start2":4081,"length1":34,"length2":34},{"diffs":[[0,"/\n            th"],[-1,"is"],[1,"at"],[0,".moveUp = true;\n"]],"start1":4172,"start2":4172,"length1":34,"length2":34},{"diffs":[[0,"/\n            th"],[-1,"is"],[1,"at"],[0,".moveDown = true"]],"start1":4261,"start2":4261,"length1":34,"length2":34},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".freeze "]],"start1":4362,"start2":4362,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".freeze "]],"start1":4402,"start2":4402,"length1":18,"length2":18},{"diffs":[[0," else th"],[-1,"is"],[1,"at"],[0,".freeze "]],"start1":4455,"start2":4455,"length1":18,"length2":18},{"diffs":[[0," };\n\n\n    th"],[-1,"is"],[1,"at"],[0,".onKeyUp = f"]],"start1":4515,"start2":4515,"length1":26,"length2":26},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".moveForward"]],"start1":4631,"start2":4631,"length1":26,"length2":26},{"diffs":[[0,":\n            th"],[-1,"is"],[1,"at"],[0,".moveUp = false;"]],"start1":4702,"start2":4702,"length1":34,"length2":34},{"diffs":[[0,";\n            th"],[-1,"is"],[1,"at"],[0,".moveDown = true"]],"start1":4735,"start2":4735,"length1":34,"length2":34},{"diffs":[[0,"hat = th"],[-1,"is"],[1,"at"],[0,";\n      "]],"start1":4788,"start2":4788,"length1":18,"length2":18},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".moveLeft = "]],"start1":5047,"start2":5047,"length1":26,"length2":26},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".moveBackwar"]],"start1":5137,"start2":5137,"length1":26,"length2":26},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".moveRight ="]],"start1":5270,"start2":5270,"length1":26,"length2":26},{"diffs":[[0,"          th"],[-1,"is"],[1,"at"],[0,".moveUp = fa"]],"start1":5362,"start2":5362,"length1":26,"length2":26},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".moveDow"]],"start1":5456,"start2":5456,"length1":18,"length2":18},{"diffs":[[0,"\n\n    th"],[-1,"is"],[1,"at"],[0,".update "]],"start1":5522,"start2":5522,"length1":18,"length2":18},{"diffs":[[0," if (!th"],[-1,"is"],[1,"at"],[0,".freeze)"]],"start1":5602,"start2":5602,"length1":18,"length2":18},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".heightS"]],"start1":5634,"start2":5634,"length1":18,"length2":18},{"diffs":[[0,"clamp(th"],[-1,"is"],[1,"at"],[0,".object."]],"start1":5703,"start2":5703,"length1":18,"length2":18},{"diffs":[[0,"sition.y, th"],[-1,"is"],[1,"at"],[0,".heightMin, "]],"start1":5723,"start2":5723,"length1":26,"length2":26},{"diffs":[[0,"tMin, th"],[-1,"is"],[1,"at"],[0,".heightM"]],"start1":5743,"start2":5743,"length1":18,"length2":18},{"diffs":[[0,"= y - th"],[-1,"is"],[1,"at"],[0,".heightM"]],"start1":5798,"start2":5798,"length1":18,"length2":18},{"diffs":[[0,"              th"],[-1,"is"],[1,"at"],[0,".autoSpeedFactor"]],"start1":5823,"start2":5823,"length1":34,"length2":34},{"diffs":[[0,"lta * th"],[-1,"is"],[1,"at"],[0,".heightC"]],"start1":5877,"start2":5877,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".autoSpe"]],"start1":5946,"start2":5946,"length1":18,"length2":18},{"diffs":[[0,"   if(th"],[-1,"is"],[1,"at"],[0,".jump){\n"]],"start1":6005,"start2":6005,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".jumper("]],"start1":6031,"start2":6031,"length1":18,"length2":18},{"diffs":[[0,"lta * th"],[-1,"is"],[1,"at"],[0,".movemen"]],"start1":6098,"start2":6098,"length1":18,"length2":18},{"diffs":[[0,"      if (th"],[-1,"is"],[1,"at"],[0,".moveForward"]],"start1":6131,"start2":6131,"length1":26,"length2":26},{"diffs":[[0,"d || (th"],[-1,"is"],[1,"at"],[0,".autoFor"]],"start1":6156,"start2":6156,"length1":18,"length2":18},{"diffs":[[0,"d && !th"],[-1,"is"],[1,"at"],[0,".moveBac"]],"start1":6177,"start2":6177,"length1":18,"length2":18},{"diffs":[[0,"ackward)) th"],[-1,"is"],[1,"at"],[0,".object.tran"]],"start1":6193,"start2":6193,"length1":26,"length2":26},{"diffs":[[0,"eed + th"],[-1,"is"],[1,"at"],[0,".autoSpe"]],"start1":6240,"start2":6240,"length1":18,"length2":18},{"diffs":[[0,"      if (th"],[-1,"is"],[1,"at"],[0,".moveBackwar"]],"start1":6276,"start2":6276,"length1":26,"length2":26},{"diffs":[[0,"Backward) th"],[-1,"is"],[1,"at"],[0,".object.tran"]],"start1":6295,"start2":6295,"length1":26,"length2":26},{"diffs":[[0,"      if (th"],[-1,"is"],[1,"at"],[0,".moveLeft) t"]],"start1":6353,"start2":6353,"length1":26,"length2":26},{"diffs":[[0,"moveLeft) th"],[-1,"is"],[1,"at"],[0,".object.tran"]],"start1":6368,"start2":6368,"length1":26,"length2":26},{"diffs":[[0,"      if (th"],[-1,"is"],[1,"at"],[0,".moveRight) "]],"start1":6426,"start2":6426,"length1":26,"length2":26},{"diffs":[[0,"oveRight) th"],[-1,"is"],[1,"at"],[0,".object.tran"]],"start1":6442,"start2":6442,"length1":26,"length2":26},{"diffs":[[0,"      if (th"],[-1,"is"],[1,"at"],[0,".moveUp) thi"]],"start1":6500,"start2":6500,"length1":26,"length2":26},{"diffs":[[0,"t.moveUp) th"],[-1,"is"],[1,"at"],[0,".object.tran"]],"start1":6513,"start2":6513,"length1":26,"length2":26},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".moveDow"]],"start1":6574,"start2":6574,"length1":18,"length2":18},{"diffs":[[0,"Down) th"],[-1,"is"],[1,"at"],[0,".object."]],"start1":6589,"start2":6589,"length1":18,"length2":18},{"diffs":[[0,"lta * th"],[-1,"is"],[1,"at"],[0,".lookSpe"]],"start1":6674,"start2":6674,"length1":18,"length2":18},{"diffs":[[0," if (!th"],[-1,"is"],[1,"at"],[0,".activeL"]],"start1":6708,"start2":6708,"length1":18,"length2":18},{"diffs":[[0,"\n\n            th"],[-1,"is"],[1,"at"],[0,".lon += this.mou"]],"start1":6785,"start2":6785,"length1":34,"length2":34},{"diffs":[[0,"  that.lon += th"],[-1,"is"],[1,"at"],[0,".mouseX * actual"]],"start1":6797,"start2":6797,"length1":34,"length2":34},{"diffs":[[0,"          if (th"],[-1,"is"],[1,"at"],[0,".lookVertical) t"]],"start1":6844,"start2":6844,"length1":34,"length2":34},{"diffs":[[0,"lookVertical) th"],[-1,"is"],[1,"at"],[0,".lat += this.mou"]],"start1":6863,"start2":6863,"length1":34,"length2":34},{"diffs":[[0,") that.lat += th"],[-1,"is"],[1,"at"],[0,".mouseY * actual"]],"start1":6875,"start2":6875,"length1":34,"length2":34},{"diffs":[[0,"\n\n            th"],[-1,"is"],[1,"at"],[0,".lat = Math.max("]],"start1":6919,"start2":6919,"length1":34,"length2":34},{"diffs":[[0," Math.min(85, th"],[-1,"is"],[1,"at"],[0,".lat));\n        "]],"start1":6957,"start2":6957,"length1":34,"length2":34},{"diffs":[[0,";\n            th"],[-1,"is"],[1,"at"],[0,".phi = (90 - thi"]],"start1":6981,"start2":6981,"length1":34,"length2":34},{"diffs":[[0,"t.phi = (90 - th"],[-1,"is"],[1,"at"],[0,".lat) * Math.PI "]],"start1":6998,"start2":6998,"length1":34,"length2":34},{"diffs":[[0,";\n            th"],[-1,"is"],[1,"at"],[0,".theta = this.lo"]],"start1":7037,"start2":7037,"length1":34,"length2":34},{"diffs":[[0," that.theta = th"],[-1,"is"],[1,"at"],[0,".lon * Math.PI /"]],"start1":7050,"start2":7050,"length1":34,"length2":34},{"diffs":[[0,"getPosition = th"],[-1,"is"],[1,"at"],[0,".target,\n       "]],"start1":7110,"start2":7110,"length1":34,"length2":34},{"diffs":[[0,"   position = th"],[-1,"is"],[1,"at"],[0,".object.position"]],"start1":7150,"start2":7150,"length1":34,"length2":34},{"diffs":[[0,"00 * Math.sin(th"],[-1,"is"],[1,"at"],[0,".phi) * Math.cos"]],"start1":7232,"start2":7232,"length1":34,"length2":34},{"diffs":[[0,"i) * Math.cos(th"],[-1,"is"],[1,"at"],[0,".theta);\n       "]],"start1":7253,"start2":7253,"length1":34,"length2":34},{"diffs":[[0,"00 * Math.cos(th"],[-1,"is"],[1,"at"],[0,".phi);\n         "]],"start1":7325,"start2":7325,"length1":34,"length2":34},{"diffs":[[0,"00 * Math.sin(th"],[-1,"is"],[1,"at"],[0,".phi) * Math.sin"]],"start1":7395,"start2":7395,"length1":34,"length2":34},{"diffs":[[0,"i) * Math.sin(th"],[-1,"is"],[1,"at"],[0,".theta);\n\n      "]],"start1":7416,"start2":7416,"length1":34,"length2":34},{"diffs":[[0,"\n\n        if (th"],[-1,"is"],[1,"at"],[0,".constrainVertic"]],"start1":7490,"start2":7490,"length1":34,"length2":34},{"diffs":[[0,"PI / (th"],[-1,"is"],[1,"at"],[0,".vertica"]],"start1":7568,"start2":7568,"length1":18,"length2":18},{"diffs":[[0,"Max - th"],[-1,"is"],[1,"at"],[0,".vertica"]],"start1":7587,"start2":7587,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".lon += "]],"start1":7625,"start2":7625,"length1":18,"length2":18},{"diffs":[[0,"at.lon += th"],[-1,"is"],[1,"at"],[0,".mouseX * ac"]],"start1":7633,"start2":7633,"length1":26,"length2":26},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".lookVer"]],"start1":7680,"start2":7680,"length1":18,"length2":18},{"diffs":[[0,"ical) th"],[-1,"is"],[1,"at"],[0,".lat += "]],"start1":7699,"start2":7699,"length1":18,"length2":18},{"diffs":[[0,"at += th"],[-1,"is"],[1,"at"],[0,".mouseY "]],"start1":7711,"start2":7711,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".lat = M"]],"start1":7771,"start2":7771,"length1":18,"length2":18},{"diffs":[[0,"n(85, th"],[-1,"is"],[1,"at"],[0,".lat));\n"]],"start1":7809,"start2":7809,"length1":18,"length2":18},{"diffs":[[0,";\n        th"],[-1,"is"],[1,"at"],[0,".phi = (90 -"]],"start1":7825,"start2":7825,"length1":26,"length2":26},{"diffs":[[0,"(90 - th"],[-1,"is"],[1,"at"],[0,".lat) * "]],"start1":7846,"start2":7846,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".theta ="]],"start1":7882,"start2":7882,"length1":18,"length2":18},{"diffs":[[0,"eta = th"],[-1,"is"],[1,"at"],[0,".lon * M"]],"start1":7895,"start2":7895,"length1":18,"length2":18},{"diffs":[[0,"  if (th"],[-1,"is"],[1,"at"],[0,".constra"]],"start1":7934,"start2":7934,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".phi = w"]],"start1":7973,"start2":7973,"length1":18,"length2":18},{"diffs":[[0,"inear(th"],[-1,"is"],[1,"at"],[0,".phi, 0,"]],"start1":8012,"start2":8012,"length1":18,"length2":18},{"diffs":[[0," Math.PI, th"],[-1,"is"],[1,"at"],[0,".verticalMin"]],"start1":8030,"start2":8030,"length1":26,"length2":26},{"diffs":[[0,"lMin, th"],[-1,"is"],[1,"at"],[0,".vertica"]],"start1":8052,"start2":8052,"length1":18,"length2":18},{"diffs":[[0,"ion = th"],[-1,"is"],[1,"at"],[0,".target,"]],"start1":8112,"start2":8112,"length1":18,"length2":18},{"diffs":[[0,"ion = th"],[-1,"is"],[1,"at"],[0,".object."]],"start1":8148,"start2":8148,"length1":18,"length2":18},{"diffs":[[0,"00 * Math.sin(th"],[-1,"is"],[1,"at"],[0,".phi) * Math.cos"]],"start1":8218,"start2":8218,"length1":34,"length2":34},{"diffs":[[0,"h.cos(th"],[-1,"is"],[1,"at"],[0,".theta);"]],"start1":8247,"start2":8247,"length1":18,"length2":18},{"diffs":[[0,"h.cos(th"],[-1,"is"],[1,"at"],[0,".phi);\n "]],"start1":8315,"start2":8315,"length1":18,"length2":18},{"diffs":[[0,"h.sin(th"],[-1,"is"],[1,"at"],[0,".phi) * "]],"start1":8381,"start2":8381,"length1":18,"length2":18},{"diffs":[[0,"h.sin(th"],[-1,"is"],[1,"at"],[0,".theta);"]],"start1":8402,"start2":8402,"length1":18,"length2":18},{"diffs":[[0,"      th"],[-1,"is"],[1,"at"],[0,".object."]],"start1":8424,"start2":8424,"length1":18,"length2":18}]],"length":8601,"saved":false}
{"ts":1370013124118,"patch":[[{"diffs":[[0,"t) {\n\n    th"],[-1,"at"],[1,"is"],[0,".object = ob"]],"start1":220,"start2":220,"length1":26,"length2":26},{"diffs":[[0,";\n    th"],[-1,"at"],[1,"is"],[0,".target "]],"start1":250,"start2":250,"length1":18,"length2":18},{"diffs":[[0," 0);\n\n    th"],[-1,"at"],[1,"is"],[0,".domElement "]],"start1":300,"start2":300,"length1":26,"length2":26},{"diffs":[[0,"ent;"],[-1,"\n\n    var that = that;"],[0,"\n   "]],"start1":375,"start2":375,"length1":30,"length2":8},{"diffs":[[0,"\n    \n    th"],[-1,"at"],[1,"is"],[0,".movementSpe"]],"start1":379,"start2":379,"length1":26,"length2":26},{"diffs":[[0," 1.0;\n    th"],[-1,"at"],[1,"is"],[0,".lookSpeed ="]],"start1":409,"start2":409,"length1":26,"length2":26},{"diffs":[[0,"\n\n    th"],[-1,"at"],[1,"is"],[0,".noFly ="]],"start1":441,"start2":441,"length1":18,"length2":18},{"diffs":[[0,";\n    th"],[-1,"at"],[1,"is"],[0,".lookVer"]],"start1":465,"start2":465,"length1":18,"length2":18},{"diffs":[[0,"VERT;\n    th"],[-1,"at"],[1,"is"],[0,".autoForward"]],"start1":511,"start2":511,"length1":26,"length2":26},{"diffs":[[0,"\n\n    th"],[-1,"at"],[1,"is"],[0,".activeL"]],"start1":546,"start2":546,"length1":18,"length2":18},{"diffs":[[0,"rue;\n\n    th"],[-1,"at"],[1,"is"],[0,".heightSpeed"]],"start1":571,"start2":571,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"at"],[1,"is"],[0,".heightCoef "]],"start1":601,"start2":601,"length1":26,"length2":26},{"diffs":[[0,";\n    th"],[-1,"at"],[1,"is"],[0,".heightM"]],"start1":632,"start2":632,"length1":18,"length2":18},{"diffs":[[0,"\n\n    th"],[-1,"at"],[1,"is"],[0,".constra"]],"start1":659,"start2":659,"length1":18,"length2":18},{"diffs":[[0," = false;\n    th"],[-1,"at"],[1,"is"],[0,".verticalMin = 0"]],"start1":687,"start2":687,"length1":34,"length2":34},{"diffs":[[0,";\n    th"],[-1,"at"],[1,"is"],[0,".vertica"]],"start1":721,"start2":721,"length1":18,"length2":18},{"diffs":[[0,".PI;\n\n    th"],[-1,"at"],[1,"is"],[0,".autoSpeedFa"]],"start1":750,"start2":750,"length1":26,"length2":26},{"diffs":[[0,"0.0;\n\n    th"],[-1,"at"],[1,"is"],[0,".mouseX = 0;"]],"start1":783,"start2":783,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"at"],[1,"is"],[0,".mouseY = 0;"]],"start1":804,"start2":804,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"at"],[1,"is"],[0,".mouseWheel "]],"start1":825,"start2":825,"length1":26,"length2":26},{"diffs":[[0,"= 0;\n\n    th"],[-1,"at"],[1,"is"],[0,".lat = 0;\n  "]],"start1":851,"start2":851,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"at"],[1,"is"],[0,".lon = 0;\n  "]],"start1":869,"start2":869,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"at"],[1,"is"],[0,".phi = 0;\n  "]],"start1":887,"start2":887,"length1":26,"length2":26},{"diffs":[[0," = 0;\n    th"],[-1,"at"],[1,"is"],[0,".theta = 0;\n"]],"start1":905,"start2":905,"length1":26,"length2":26},{"diffs":[[0,"= 0;\n\n    th"],[-1,"at"],[1,"is"],[0,".moveForward"]],"start1":926,"start2":926,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"at"],[1,"is"],[0,".moveBackwar"]],"start1":956,"start2":956,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"at"],[1,"is"],[0,".moveLeft = "]],"start1":987,"start2":987,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"at"],[1,"is"],[0,".moveRight ="]],"start1":1014,"start2":1014,"length1":26,"length2":26},{"diffs":[[0,"alse;\n    th"],[-1,"at"],[1,"is"],[0,".freeze = fa"]],"start1":1042,"start2":1042,"length1":26,"length2":26},{"diffs":[[0," false;\n"],[-1,"\n"],[0,"    th"],[-1,"at"],[1,"is"],[0,".mouseDr"]],"start1":1065,"start2":1065,"length1":25,"length2":24},{"diffs":[[0,"On = false;\n"],[1,"    \n    var that = this;\n    "],[0,"\n    if (tha"]],"start1":1091,"start2":1091,"length1":24,"length2":54}]],"length":8608,"saved":false}
{"ts":1370013167539,"patch":[[{"diffs":[[0,"Element) {\n\n"],[1,"    var that = this;\n"],[0,"    this.obj"]],"start1":214,"start2":214,"length1":24,"length2":45},{"diffs":[[0,"se;\n    "],[-1,"\n    var that = this;\n"],[0,"    \n   "]],"start1":1120,"start2":1120,"length1":38,"length2":16}]],"length":8607,"saved":false}
{"ts":1370013178258,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log(that.domElement);\n"],[0,"    "]],"start1":2475,"start2":2475,"length1":46,"length2":8}]],"length":8569,"saved":false}
{"ts":1370013219409,"patch":[[{"diffs":[[0,"\n\n    th"],[-1,"at"],[1,"is"],[0,".onKeyUp"]],"start1":4487,"start2":4487,"length1":18,"length2":18}]],"length":8569,"saved":false}
{"contributors":[],"silentsave":false,"ts":1370089696487,"patch":[[{"diffs":[[0,"cument;\n"],[-1,"    "],[0,"\n"],[1,""],[0,"    this"]],"start1":393,"start2":393,"length1":21,"length2":17},{"diffs":[[0,"dow.mmo."],[-1,"CAM_"],[0,"LOOK_VER"]],"start1":511,"start2":511,"length1":20,"length2":16},{"diffs":[[0,"OOK_VERT"],[1,"ICAL"],[0,";\n    th"]],"start1":520,"start2":520,"length1":16,"length2":20},{"diffs":[[0,"se;\n"],[-1,"    "],[1,"\n"],[0,"    \n"],[1,"\n"],[0,"    "]],"start1":1116,"start2":1116,"length1":17,"length2":15},{"diffs":[[0,"vent) {\n        "],[-1,"    "],[0,"console.log(__ev"]],"start1":3260,"start2":3260,"length1":36,"length2":32},{"diffs":[[0,"));\n"],[-1,"            console.log(\"OK\");\n\n"],[0,"    "]],"start1":3304,"start2":3304,"length1":40,"length2":8},{"diffs":[[0,"ction (event) {\n"],[-1,"\n"],[0,"        switch ("]],"start1":3339,"start2":3339,"length1":33,"length2":32},{"diffs":[[0,".keyCode) {\n"],[1,"        case 82:\n            if(window.mmo.FileDescriptor.readyState === 3){\n                window.mmo.FileDescriptor =  window.mmo.Network.FileDescriptor();\n            }\n            break;\n"],[0,"        case"]],"start1":3376,"start2":3376,"length1":24,"length2":216},{"diffs":[[0,"       case 32:\n"],[1,"\n"],[0,"            that"]],"start1":3838,"start2":3838,"length1":32,"length2":33},{"diffs":[[0,"            var "],[1,"_"],[0,"that = that;\n   "]],"start1":4889,"start2":4889,"length1":32,"length2":33},{"diffs":[[0,"function"],[1," "],[0,"()"],[1," "],[0,"{\n      "]],"start1":4942,"start2":4942,"length1":18,"length2":20},{"diffs":[[0,"                "],[1,"_"],[0,"that.moveDown = "]],"start1":4956,"start2":4956,"length1":32,"length2":33},{"diffs":[[0,".y = 0;\n"],[-1,"    "],[0,"        "]],"start1":5042,"start2":5042,"length1":20,"length2":16},{"diffs":[[0,", 200);\n"],[1,""],[0,"        "]],"start1":5063,"start2":5063,"length1":16,"length2":16},{"diffs":[[0,"\n\n    th"],[-1,"at"],[1,"is"],[0,".update "]],"start1":5640,"start2":5640,"length1":18,"length2":18},{"diffs":[[0,"n (delta) {\n"],[1,"        if (that.moveBackward || that.moveDown || that.moveUp || that.moveForward) {\n            var data = JSON.stringify({\n                'b': that.moveBackward,\n                'd': that.moveDown,\n                'u': that.moveUp,\n                'f': that.moveForward\n            });\n            that.ws.send(data);\n        }\n\n"],[0,"        var "]],"start1":5667,"start2":5667,"length1":24,"length2":356},{"diffs":[[0,"      if"],[1," "],[0,"(that.ju"]],"start1":6452,"start2":6452,"length1":16,"length2":17},{"diffs":[[0,"at.jump)"],[1," "],[0,"{\n"],[1,"  "],[0,"        "]],"start1":6464,"start2":6464,"length1":18,"length2":21}]],"length":9055,"saved":false}
{"ts":1370089710143,"patch":[[{"diffs":[[0,"    "],[-1,"that.ws"],[1,"window.mmo.FileDescriptor"],[0,".sen"]],"start1":5976,"start2":5976,"length1":15,"length2":33}]],"length":9073,"saved":false}
{"ts":1370089762222,"patch":[[{"diffs":[[0,"   'd': "],[-1,"that.moveDown"],[1,"\"ok\""],[0,",\n      "]],"start1":5857,"start2":5857,"length1":29,"length2":20}]],"length":9064,"saved":false}
{"ts":1370089797794,"patch":[[{"diffs":[[0,"d': "],[-1,"\"ok\""],[1,"that.moveDown"],[0,",\n  "]],"start1":5861,"start2":5861,"length1":12,"length2":21}]],"length":9073,"saved":false}
{"ts":1370089833699,"patch":[[{"diffs":[[0,"n (delta) {\n"],[1,"        console.log(that.moveLeft)\n"],[0,"        if ("]],"start1":5667,"start2":5667,"length1":24,"length2":59},{"diffs":[[0,"       '"],[-1,"d"],[1,"l"],[0,"': that."]],"start1":5888,"start2":5888,"length1":17,"length2":17},{"diffs":[[0,"hat.move"],[-1,"Down"],[1,"Left"],[0,",\n      "]],"start1":5901,"start2":5901,"length1":20,"length2":20},{"diffs":[[0,"       '"],[-1,"u"],[1,"r"],[0,"': that."]],"start1":5924,"start2":5924,"length1":17,"length2":17},{"diffs":[[0,"hat.move"],[-1,"Up"],[1,"Right"],[0,",\n      "]],"start1":5937,"start2":5937,"length1":18,"length2":21}]],"length":9111,"saved":false}
{"ts":1370090168979,"patch":[[{"diffs":[[0,"eft)\n        if "],[1,"("],[0,"(that.moveBackwa"]],"start1":5709,"start2":5709,"length1":32,"length2":33},{"diffs":[[0,"Forward)"],[1," && window.mmo.FileDescriptor)"],[0," {\n     "]],"start1":5789,"start2":5789,"length1":16,"length2":46}]],"length":9142,"saved":false}
{"ts":1370090539433,"patch":[[{"diffs":[[0,"hat.move"],[-1,"Down"],[1,"Right"],[0," || that"]],"start1":5749,"start2":5749,"length1":20,"length2":21},{"diffs":[[0,"hat.move"],[-1,"Up"],[1,"Left"],[0," || that"]],"start1":5767,"start2":5767,"length1":18,"length2":20}]],"length":9145,"saved":false}
{"ts":1370091569847,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log(that.moveLeft)\n"],[0,"    "]],"start1":5675,"start2":5675,"length1":43,"length2":8}]],"length":9110,"saved":false}
{"contributors":[],"silentsave":false,"ts":1370193095656,"patch":[[{"diffs":[[0,"false;\n\n"],[-1,"    "],[0,"\n\n    if"]],"start1":1113,"start2":1113,"length1":20,"length2":16},{"diffs":[[0,"    "],[-1,"this.update = function (delta) {\n        if ((that.moveBackward || that.moveRight || that.moveLeft || that.moveForward) && window.mmo.FileDescriptor"],[1,"var DataBuffer = [];\n    var OldData = \"\";\n    this.update = function (delta"],[0,") {\n"],[1,"\n"],[0,"    "]],"start1":5638,"start2":5638,"length1":160,"length2":89},{"diffs":[[0,"a = "],[-1,"JSON.stringify("],[0,"{\n  "]],"start1":5742,"start2":5742,"length1":23,"length2":8},{"diffs":[[0,"   '"],[-1,"b': that.moveBackward,\n                'l': that.moveLeft,\n                'r': that.moveRight,\n                'f"],[1,"rotation': that.object.rotation,\n                'moveBackward"],[0,"': t"]],"start1":5761,"start2":5761,"length1":122,"length2":70},{"diffs":[[0,"hat.move"],[-1,"For"],[1,"Back"],[0,"ward"],[1,","],[0,"\n       "]],"start1":5831,"start2":5831,"length1":23,"length2":25},{"diffs":[[0,"    "],[-1,"});\n            window.mmo.FileDescriptor.send(data);\n        }\n\n        var actualMoveSpeed = 0;\n\n        if (!that.freeze) {\n\n            if (that.heightSpeed) {\n\n                var y = window.THREE.Math.clamp(that.object.position.y, that.heightMin, that.heightMax);\n                var heightDelta = y - that.heightMin;\n\n                that.autoSpeedFactor = delta * (heightDelta * that.heightCoef);\n"],[1,"    'position':  that.object.position,\n                'moveLeft': that.moveLeft,\n                'moveRight': that.moveRight,"],[0,"\n   "]],"start1":5857,"start2":5857,"length1":413,"length2":134},{"diffs":[[0,"    "],[-1,"}\n"],[0,"    "],[-1,"        else {\n\n                that.autoSpeedFactor = 0.0;\n"],[1,"'moveForward': that.moveForward,"],[0,"\n   "]],"start1":5996,"start2":5996,"length1":74,"length2":44},{"diffs":[[0,"    "],[-1,"}\n\n"],[0,"    "],[-1,"        if (that.jump) {\n                that.jumper();"],[1,"'mouseX': that.mouseX,\n                'mouseY': that.mouseY,"],[0,"\n   "]],"start1":6045,"start2":6045,"length1":70,"length2":73},{"diffs":[[0,"    "],[-1,"}\n"],[0,"    "],[-1,"        actualMoveSpeed = delta * that.movementSpeed;\n\n            if (that.moveForward || (that.autoForward && !that.moveBackward)) that.object.translateZ(-(actualMoveSpeed + that.autoSpeedFactor));\n            if (that.moveBackward) that.object.translateZ(actualMoveSpeed);\n\n            if (that.moveLeft) that.object.translateX(-actualMoveSpeed);\n            if (that.moveRight) that.object.translateX(actualMoveSpeed);\n\n            if (that.moveUp) that.object.translateY(actualMoveSpeed);\n            if (that.moveDown) that.object.translateY(-actualMoveSpeed);\n\n            var actualLookSpeed = delta * that.lookSpeed;\n\n            if (!that.activeLook) {\n\n                actualLookSpeed = 0;\n"],[1,"'mouseDragOn': that.mouseDragOn,\n                'moveDown': that.moveDown,\n                'moveUp': that.moveUp,\n                'delta': delta\n            };\n\n            DataBuffer.push(data);\n            if(DataBuffer.length === 25){\n                setInterval(\n                    function() {"],[0,"\n   "]],"start1":6123,"start2":6123,"length1":715,"length2":312},{"diffs":[[0,") {\n            "],[-1,"}\n\n"],[0,"            that"]],"start1":6428,"start2":6428,"length1":35,"length2":32},{"diffs":[[0,"    "],[-1,"that.lon += that.mouseX * actualLookSpeed;\n            if (that.lookVertical) that.lat += that.mouseY * actualLookSpeed;\n\n            that.lat = Math.max(-85, Math.min(85, that.lat));\n            that.phi = (90 - that.lat) * Math.PI / 180;\n"],[1,"if (window.mmo.FileDescriptor.bufferedAmount === 0){\n                            window.mmo.FileDescriptor.send(JSON.stringify(DataBuffer));\n                    "],[0,"    "],[1,"}\n"],[0,"        "],[-1,"that.theta = that.lon * Math.PI / 180;\n\n"],[1,"      "],[0,"      "],[1,"},\n"],[0,"      "],[-1,"var targetPosition = that.target,\n                position = that.object.position;\n\n            targetPosition.x = position.x + 100 * Math.sin(that.phi) * Math.cos(that.theta);\n"],[1,"              50);\n                DataBuffer = [];\n      "],[0,"      "],[1,"}\n\n\n"],[0,"      "],[-1,"targetPosition.y = position.y + 100 * Math.cos(that.phi);\n            targetPosition.z = position.z + 100 * Math.sin(that.phi) * Math.sin(that.theta);\n"],[1,"      if(DataBuffer.length === 25){\n                setInterval("],[0,"\n   "]],"start1":6452,"start2":6452,"length1":652,"length2":342},{"diffs":[[0,"    "],[-1,"}\n\n\n"],[0,"        "],[-1,"var verticalLookRatio = 1;\n\n        if (that.constrainVertical) {\n\n            verticalLookRatio = Math.PI / (that.verticalMax - that.verticalMin);\n"],[1,"    function() {\n                        if (window.mmo.FileDescriptor.bufferedAmount === 0){"],[0,"\n   "]],"start1":6795,"start2":6795,"length1":168,"length2":109},{"diffs":[[0,"    "],[-1,"}\n"],[0,"        "],[-1,"that.lon += that.mouseX * actualLookSpeed;\n        if (that.lookVertical) that.lat += that.mouseY * actualLookSpeed * verticalLookRatio;\n\n        that.lat = Math.max(-85, Math.min(85, that.lat));\n        that.phi = (90 - that.lat) * Math.PI / 180;\n\n"],[1,"            window.mmo.FileDescriptor.send(JSON.stringify(DataBuffer));\n                    "],[0,"    "],[1,"}\n"],[0,"    "],[-1,"that.theta = that.lon * Math.PI / 180;\n\n        if (that.constrainVertical) {\n\n            that.phi = window.THREE.Math.mapLinear(that.phi, 0, Math.PI, that.verticalMin, that.verticalMax"],[1,"                },\n                    50"],[0,");\n"],[-1,"\n"],[0,"        "],[-1,"}\n\n"],[0,"        "],[-1,"var targetPosition = that.target,\n            position = that.object.position;"],[1,"DataBuffer = [];\n            }\n"],[0,"\n\n    "],[1,"};\n\n"],[0,"    t"],[-1,"argetPosition.x = position.x + 100 * Math.sin(that.phi) * Math.cos(that.theta);\n        targetPosition.y = position.y + 100 * Math.cos(that.phi);\n        targetPosition.z = position.z + 100 * Math.sin(that.phi) * Math.sin(that.theta"],[1,"his.move = function(targetPosition){\n        console.log(targetPosition"],[0,");\n"],[-1,"\n"],[0,"    "]],"start1":6905,"start2":6905,"length1":809,"length2":298},{"diffs":[[0,"ition);\n"],[-1,"\n"],[0,"    };\n\n"]],"start1":7235,"start2":7235,"length1":17,"length2":16}]],"length":7377,"saved":false}
{"contributors":[],"silentsave":false,"ts":1370281895973,"patch":[[{"diffs":[[0,"false;\n\n"],[-1,""],[0,""],[1,"    "],[0,"\n\n    if"]],"start1":1113,"start2":1113,"length1":16,"length2":20},{"diffs":[[0,"t) {\n\n        th"],[-1,"at"],[1,"is"],[0,".viewHalfX = (wi"]],"start1":1162,"start2":1162,"length1":34,"length2":34},{"diffs":[[0," / 2;\n        th"],[-1,"at"],[1,"is"],[0,".viewHalfY = (wi"]],"start1":1230,"start2":1230,"length1":34,"length2":34},{"diffs":[[0,"se {\n\n        th"],[-1,"at"],[1,"is"],[0,".viewHalfX = tha"]],"start1":1318,"start2":1318,"length1":34,"length2":34},{"diffs":[[0,"      th"],[-1,"at"],[1,"is"],[0,".viewHal"]],"start1":1384,"start2":1384,"length1":18,"length2":18},{"diffs":[[0,"n (delta) {\n"],[-1,""],[0,""],[1,"          "],[0,"\n           "]],"start1":5714,"start2":5714,"length1":24,"length2":34},{"diffs":[[0,"': delta"],[-1,""],[0,""],[1,",\n                'quaternion': that.object.quaternion"],[0,"\n       "]],"start1":6282,"start2":6282,"length1":16,"length2":70},{"diffs":[[0,"         };\n"],[-1,""],[0,""],[1,"           "],[0,"\n           "]],"start1":6348,"start2":6348,"length1":24,"length2":35},{"diffs":[[0,"ufferedAmount =="],[-1,"="],[0,""],[1,""],[0," 0){\n           "]],"start1":6566,"start2":6566,"length1":33,"length2":32},{"diffs":[[0,"  }\n"],[-1,"\n\n"],[0,"        "],[-1,"    if(DataBuffer.length === 25){"],[0,"\n   "]],"start1":6792,"start2":6792,"length1":51,"length2":16},{"diffs":[[0,"    "],[1,"\n"],[0,"    "],[-1,"setInterval("],[1,"};"],[0,"\n    "],[1,"\n"],[0,"    "],[-1,"            function() {\n                        if (window.mmo.FileDescriptor.bufferedAmount === 0){\n                            window.mmo.FileDescriptor.send(JSON.stringify(DataBuffer));\n                        }\n                    },\n                    50);\n                DataBuffer = [];\n            }\n\n\n    };\n\n    this.move = function(target"],[1,"this.move = function(positions){\n        window.mmo.avatar_obj.position.set(\n            positions.AvatarPosition.x,\n            positions.AvatarPosition.y,\n            positions.Avatar"],[0,"Position"],[-1,"){\n"],[1,".z\n "],[0,"        "],[-1,"console.log(targetPosition"],[1,"   "],[0,");\n "]],"start1":6813,"start2":6813,"length1":430,"length2":233},{"diffs":[[0,".lookAt("],[-1,"t"],[1,"positions.T"],[0,"argetPos"]],"start1":7064,"start2":7064,"length1":17,"length2":27}]],"length":7233,"saved":false}
{"ts":1370281972660,"patch":[[{"diffs":[[0,"Speed = "],[-1,"1"],[1,"40"],[0,".0;\n    "]],"start1":419,"start2":419,"length1":17,"length2":18}]],"length":7234,"saved":false}
{"ts":1370282088679,"patch":[[{"diffs":[[0,"gth === "],[-1,"2"],[1,"1"],[0,"5){\n    "]],"start1":6437,"start2":6437,"length1":17,"length2":17},{"diffs":[[0,") {\n"],[-1,"                        if (window.mmo.FileDescriptor.bufferedAmount == 0){\n"],[0,"    "]],"start1":6508,"start2":6508,"length1":84,"length2":8},{"diffs":[[0,"taBuffer));\n"],[1,""],[0,"            "]],"start1":6588,"start2":6588,"length1":24,"length2":24},{"diffs":[[0,"                "],[-1,"}"],[0,"\n               "]],"start1":6608,"start2":6608,"length1":33,"length2":32}]],"length":7157,"saved":false}
