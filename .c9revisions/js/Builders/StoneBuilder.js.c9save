{"ts":1369417165492,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"  // CREATE STONES ------------------------------------------------------\n  //add arguments as you want to custimize your stones, stoneAttributes for instance.\n  \n  //load StoneBuilder \n (function(){\n    var f = function(){\n        if(typeof mmo == \"undefined\"){\n              console.log(\"Error : Namespace mmo not Loaded\");\n              return false;\n            } else if(typeof mmo.Builders == \"undefined\"){\n                      console.log(\"Error : Namespace mmo not Loaded\");\n                      return fase;\n            }\n            return true;\n        }\n        \n    if(!f){\n        return;\n    }\n    \n    \n    //Define StoneBuilder \n    mmo.Builders.StoneBuilder = function(scene, nb_stones, uniforms, worldSize, stonesSizeRatio, planeMat, displacement ){\n      var x, y, z, width, height, depth;\n      var stones = new Array();\n      var stoneAttributes = new Array();\n      var stoneValues = new Array();\n      var stoneShaderMaterial = new Array();\n    \n      for(var i=0; i<nb_stones; i++){\n    \n        // SHADER\n        stoneAttributes[i] = {\n            displacement: displacement\n        };\n        stoneValues[i] = stoneAttributes[i].displacement.value;\n    \n        stoneShaderMaterial[i] = new THREE.ShaderMaterial({\n            uniforms:       uniforms,\n            attributes:     stoneAttributes[i],\n            vertexShader:   document.getElementById('stonevertexshader').textContent,\n            fragmentShader: document.getElementById('stonefragmentshader').textContent\n        });\n    \n    \n        // STONE\n        height = Math.random()*worldSize/stonesSizeRatio;\n        width = Math.random()*height*3/4 + 100;\n        depth = Math.random()*height*3/4 + 100;\n    \n        x = Math.random()*worldSize - worldSize/2;\n        y = height/2;\n        z = Math.random()*worldSize - worldSize/2;\n    \n        stones[i] = Stone.create(x, y, z, width, height, depth, planeMat);\n        scene.add(stones[i]);\n        \n    \n        \n        // UPDATE\n        var vertices = stones[i].geometry.vertices;\n        for(var v = 0; v < vertices.length; v++) {\n              stoneValues[i].push(Math.random() * 300);\n        }\n        vertices.clear;\n    }\n    \n    return scene;\n  }\n    \n})();"]],"start1":0,"start2":0,"length1":0,"length2":2211}]],"length":2211}
{"contributors":[],"silentsave":false,"ts":1369420126512,"patch":[[{"diffs":[[0,"eturn fa"],[1,"l"],[0,"se;\n    "]],"start1":507,"start2":507,"length1":16,"length2":17}]],"length":2212,"saved":false}
{"ts":1369420129221,"patch":[[{"diffs":[[0,"  return"],[1," null"],[0,";\n    }\n"]],"start1":596,"start2":596,"length1":16,"length2":21}]],"length":2217,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369467914339,"patch":[[{"diffs":[[0,"l;\n    }"],[-1,"\n    \n    \n    "],[1," \n})();\n\n"],[0,"//Define"]],"start1":608,"start2":608,"length1":31,"length2":25},{"diffs":[[0,"\n  }"],[-1,"\n    \n})();"]],"start1":2196,"start2":2196,"length1":15,"length2":4}]],"length":2200,"saved":false}
{"ts":1369467919123,"patch":[[{"diffs":[[0,"uilder \n"],[-1,"    "],[0,"mmo.Buil"]],"start1":640,"start2":640,"length1":20,"length2":16}]],"length":2196,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369672934218,"patch":[[{"diffs":[[0,"stance.\n"],[-1,"  "],[0,"\n  //loa"]],"start1":152,"start2":152,"length1":18,"length2":16},{"diffs":[[0,"eBuilder"],[-1," "],[0,"\n (funct"]],"start1":174,"start2":174,"length1":17,"length2":16},{"diffs":[[0,"(typeof "],[-1,""],[0,""],[1,"window."],[0,"mmo == \""]],"start1":231,"start2":231,"length1":16,"length2":23},{"diffs":[[0,"(typeof "],[-1,""],[0,""],[1,"window."],[0,"mmo.Buil"]],"start1":379,"start2":379,"length1":16,"length2":23},{"diffs":[[0,"      }\n"],[-1,"        "],[0,""],[1,""],[0,"\n    if("]],"start1":572,"start2":572,"length1":24,"length2":16},{"diffs":[[0,"l;\n    }"],[-1," "],[0,"\n})();\n\n"]],"start1":611,"start2":611,"length1":17,"length2":16},{"diffs":[[0,"eBuilder"],[-1," "],[0,"\n"],[1,"window."],[0,"mmo.Buil"]],"start1":640,"start2":640,"length1":18,"length2":24},{"diffs":[[0,"rray();\n"],[-1,"    "],[0,""],[1,""],[0,"\n      f"]],"start1":963,"start2":963,"length1":20,"length2":16},{"diffs":[[0,"; i++){\n"],[-1,"    "],[0,""],[1,""],[0,"\n       "]],"start1":1002,"start2":1002,"length1":20,"length2":16},{"diffs":[[0,".value;\n"],[-1,"    "],[0,"\n       "]],"start1":1166,"start2":1166,"length1":20,"length2":16},{"diffs":[[0,"] = new "],[1,"window."],[0,"THREE.Sh"]],"start1":1204,"start2":1204,"length1":16,"length2":23},{"diffs":[[0,"    });\n"],[-1,"    \n    "],[1,"\n"],[0,"\n       "]],"start1":1505,"start2":1505,"length1":25,"length2":17},{"diffs":[[0," + 100;\n"],[-1,"    "],[0,""],[1,""],[0,"\n       "]],"start1":1678,"start2":1678,"length1":20,"length2":16},{"diffs":[[0,"Size/2;\n"],[-1,"    "],[0,"\n       "]],"start1":1803,"start2":1803,"length1":20,"length2":16},{"diffs":[[0,"] = "],[-1,"Stone.creat"],[1,"window.mmo.World_Objects.Ston"],[0,"e(x,"]],"start1":1828,"start2":1828,"length1":19,"length2":37},{"diffs":[[0,"]);\n"],[-1,"        \n    \n        "],[1,"\n\n"],[0,"\n   "]],"start1":1931,"start2":1931,"length1":30,"length2":10},{"diffs":[[0,";\n    }\n"],[-1,"    "],[0,"\n    ret"]],"start1":2147,"start2":2147,"length1":20,"length2":16}]],"length":2177,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369676976428,"patch":[[{"diffs":[[0,":       "],[-1,"uniforms"],[1,"window.mmo.UNIFORMS"],[0,",\n      "]],"start1":1262,"start2":1262,"length1":24,"length2":35},{"diffs":[[0,"s[i]);\n\n"],[-1,"\n\n"],[0,"        "]],"start1":1939,"start2":1939,"length1":18,"length2":16}]],"length":2186,"saved":false}
{"ts":1369677034639,"patch":[[{"diffs":[[0,"(scene, "],[-1,"nb_stones"],[0,", unifor"]],"start1":692,"start2":692,"length1":25,"length2":16},{"diffs":[[0,"; i<"],[-1,"nb_stones"],[1,"window.mmo.NB_STONES"],[0,"; i+"]],"start1":980,"start2":980,"length1":17,"length2":28}]],"length":2188,"saved":false}
{"ts":1369677083665,"patch":[[{"diffs":[[0,"()*w"],[-1,"orldSize/stonesSizeRatio"],[1,"indow.mmo.WORLDSIZE/window.mmo.STONES_SIZE_RATIO"],[0,";\n  "]],"start1":1573,"start2":1573,"length1":32,"length2":56},{"diffs":[[0,"ndom()*w"],[-1,"orldSize - worldSize"],[1,"indow.mmo.WORLDSIZE - window.mmo.WORLDSIZE"],[0,"/2;\n    "]],"start1":1743,"start2":1743,"length1":36,"length2":58},{"diffs":[[0,"()*w"],[-1,"orldSize - worldSize"],[1,"indow.mmo.WORLDSIZE - window.mmo.WORLDSIZE"],[0,"/2;\n"]],"start1":1842,"start2":1842,"length1":28,"length2":50}]],"length":2256,"saved":false}
{"ts":1369677275518,"patch":[[{"diffs":[[0,"ene,"],[-1," , uniforms, worldSize, stonesSizeRatio,"],[0," pla"]],"start1":695,"start2":695,"length1":48,"length2":8},{"diffs":[[0," depth, "],[-1,"planeMat"],[1,"window.mmo.PLANE"],[0,");\n     "]],"start1":1927,"start2":1927,"length1":24,"length2":32}]],"length":2224,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369721199068,"patch":[[{"diffs":[[0,"cene"],[-1,", planeMat, displacement "],[0,"){\n    "],[-1," "],[-1," "],[0,"var "]],"start1":694,"start2":694,"length1":42,"length2":15},{"diffs":[[0," depth;\n    "],[-1,"  "],[0,"var stones ="]],"start1":732,"start2":732,"length1":26,"length2":24},{"diffs":[[0,"ar stones = "],[-1,"new Array();\n  "],[1,"[];\n"],[0,"    var ston"]],"start1":745,"start2":745,"length1":39,"length2":28},{"diffs":[[0,"ttributes = "],[-1,"new Array();\n  "],[1,"[];\n"],[0,"    var ston"]],"start1":775,"start2":775,"length1":39,"length2":28},{"diffs":[[0,"s = "],[-1,"new Array()"],[1,"[];\n    window.mmo.stoneShaderMaterial = []"],[0,";\n    "],[-1,"  "],[1,"//"],[0,"var "]],"start1":809,"start2":809,"length1":27,"length2":59},{"diffs":[[0,"l = "],[-1,"new Array();\n\n  "],[1,"window.mmo.Materials.Stone_Materials();\n        \n"],[0,"    "]],"start1":886,"start2":886,"length1":24,"length2":57},{"diffs":[[0,"; i++){\n"],[1,"        "],[0,"\n       "]],"start1":978,"start2":978,"length1":16,"length2":24},{"diffs":[[0,"cement: "],[1,"window.mmo.Attributes.Stone."],[0,"displace"]],"start1":1062,"start2":1062,"length1":16,"length2":44},{"diffs":[[0,".value;\n"],[1,"        "],[0,"\n       "]],"start1":1178,"start2":1178,"length1":16,"length2":24},{"diffs":[[0,"   \n        "],[1,"window.mmo."],[0,"stoneShaderM"]],"start1":1191,"start2":1191,"length1":24,"length2":35},{"diffs":[[0,"    });\n"],[-1,"\n"],[1,"        \n        "],[0,"\n       "]],"start1":1547,"start2":1547,"length1":17,"length2":33},{"diffs":[[0," + 100;\n"],[-1,""],[0,""],[1,"        "],[0,"\n       "]],"start1":1760,"start2":1760,"length1":16,"length2":24},{"diffs":[[0,"SIZE/2;\n"],[-1,""],[0,""],[1,"        "],[0,"\n       "]],"start1":1937,"start2":1937,"length1":16,"length2":24},{"diffs":[[0,"es[i]);\n"],[-1,""],[0,""],[1,"        "],[0,"\n       "]],"start1":2077,"start2":2077,"length1":16,"length2":24},{"diffs":[[0,"s[i]"],[-1,".push("],[1," = "],[0,"Math"]],"start1":2239,"start2":2239,"length1":14,"length2":11},{"diffs":[[0,"() * 300"],[-1,")"],[0,";\n      "]],"start1":2257,"start2":2257,"length1":17,"length2":16}]],"length":2329,"saved":false}
{"ts":1369721262322,"patch":[[{"diffs":[[0,"s = [];\n    "],[-1,"var "],[1,"window.mmo."],[0,"stoneAttribu"]],"start1":753,"start2":753,"length1":28,"length2":35},{"diffs":[[0,"DER\n        "],[1,"window.mmo."],[0,"stoneAttribu"]],"start1":1016,"start2":1016,"length1":24,"length2":35},{"diffs":[[0,"es[i] = "],[1,"window.mmo."],[0,"stoneAtt"]],"start1":1157,"start2":1157,"length1":16,"length2":27},{"diffs":[[0,"IFORMS,\n"],[-1,""],[0,"        "]],"start1":1343,"start2":1343,"length1":16,"length2":16},{"diffs":[[0,"ibutes:     "],[1,"window.mmo."],[0,"stoneAttribu"]],"start1":1367,"start2":1367,"length1":24,"length2":35}]],"length":2369,"saved":false}
{"ts":1369721294730,"patch":[[{"diffs":[[0," depth;\n    "],[-1,"var "],[1,"window.mmo."],[0,"stones = [];"]],"start1":732,"start2":732,"length1":28,"length2":35},{"diffs":[[0,"[];\n    "],[-1,"var "],[1,"window.mmo."],[0,"stoneVal"]],"start1":801,"start2":801,"length1":20,"length2":27},{"diffs":[[0,"     };\n        "],[1,"window.mmo."],[0,"stoneValues[i] ="]],"start1":1146,"start2":1146,"length1":32,"length2":43},{"diffs":[[0,"   \n        "],[1,"window.mmo."],[0,"stones[i] = "]],"start1":2015,"start2":2015,"length1":24,"length2":35},{"diffs":[[0,"ene.add("],[1,"window.mmo."],[0,"stones[i"]],"start1":2141,"start2":2141,"length1":16,"length2":27},{"diffs":[[0,"tices = "],[1,"window.mmo."],[0,"stones[i"]],"start1":2214,"start2":2214,"length1":16,"length2":27},{"diffs":[[0,"        "],[-1,""],[0,""],[1,"window.mmo."],[0,"stoneVal"]],"start1":2319,"start2":2319,"length1":16,"length2":27}]],"length":2438,"saved":false}
{"ts":1369721364273,"patch":[[{"diffs":[[0,"stones = [];\n   "],[1," scene.stoneAttributes ="],[0," window.mmo.ston"]],"start1":755,"start2":755,"length1":32,"length2":56},{"diffs":[[0,"ibutes = [];\n   "],[1," scene.stoneShaderMaterial ="],[0," window.mmo.ston"]],"start1":816,"start2":816,"length1":32,"length2":60},{"diffs":[[0,"es = [];\n   "],[1," scene.stoneShaderMaterial ="],[0," window.mmo."]],"start1":881,"start2":881,"length1":24,"length2":52}]],"length":2518,"saved":false}
{"ts":1369721441041,"patch":[[{"diffs":[[0,"pth;\n   "],[1," scene.stone ="],[0," window."]],"start1":735,"start2":735,"length1":16,"length2":30}]],"length":2532,"saved":false}
{"ts":1369721623186,"patch":[[{"diffs":[[0,"    "],[-1,"scene.stone = window.mmo.stones = [];\n    scene.stoneAttributes = window.mmo.stoneAttributes = [];\n    scene.stoneShaderMaterial = window.mmo.stoneValues = [];\n    scene.stoneShaderMaterial = window.mmo."],[1,"var stones = [];\n    var stoneAttributes = [];\n    var stoneValues = [];\n    var "],[0,"ston"]],"start1":740,"start2":740,"length1":211,"length2":89},{"diffs":[[0,"DER\n        "],[-1,"window.mmo."],[0,""],[1,""],[0,"stoneAttribu"]],"start1":1002,"start2":1002,"length1":35,"length2":24},{"diffs":[[0," };\n        "],[-1,"window.mmo."],[0,"stoneValues["]],"start1":1111,"start2":1111,"length1":35,"length2":24},{"diffs":[[0,"es[i] = "],[-1,"window.mmo."],[0,"stoneAtt"]],"start1":1132,"start2":1132,"length1":27,"length2":16},{"diffs":[[0,"   \n        "],[-1,"window.mmo."],[0,"stoneShaderM"]],"start1":1184,"start2":1184,"length1":35,"length2":24},{"diffs":[[0,"ibutes:     "],[-1,"window.mmo."],[0,"stoneAttribu"]],"start1":1320,"start2":1320,"length1":35,"length2":24},{"diffs":[[0,"   \n        "],[-1,"window.mmo."],[0,"stones[i] = "]],"start1":1932,"start2":1932,"length1":35,"length2":24},{"diffs":[[0,"ene.add("],[-1,"window.mmo."],[0,"stones[i"]],"start1":2047,"start2":2047,"length1":27,"length2":16},{"diffs":[[0,"tices = "],[-1,"window.mmo."],[0,"stones[i"]],"start1":2109,"start2":2109,"length1":27,"length2":16},{"diffs":[[0,"        "],[-1,"window.mmo."],[0,""],[1,""],[0,"stoneVal"]],"start1":2203,"start2":2203,"length1":27,"length2":16}]],"length":2311,"saved":false}
{"ts":1369721785861,"patch":[[{"diffs":[[0,"th, "],[-1,"window.mmo.PLANE"],[1,"stoneShaderMaterial[i]"],[0,");\n "]],"start1":2014,"start2":2014,"length1":24,"length2":30}]],"length":2317,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369822962607,"patch":[[{"diffs":[[0,"ials();\n"],[-1,"        "],[0,"\n"],[1,""],[0,"    for("]],"start1":915,"start2":915,"length1":25,"length2":17},{"diffs":[[0,"; i++){\n"],[-1,"        "],[0,"\n"],[1,""],[0,"        "]],"start1":963,"start2":963,"length1":25,"length2":17},{"diffs":[[0,".value;\n"],[-1,"        "],[0,"\n"],[1,""],[0,"        "]],"start1":1155,"start2":1155,"length1":25,"length2":17},{"diffs":[[0,"    });\n"],[-1,"        \n        "],[1,"\n"],[0,"\n       "]],"start1":1505,"start2":1505,"length1":33,"length2":17},{"diffs":[[0," + 100;\n"],[-1,"        "],[0,"\n"],[1,""],[0,"        "]],"start1":1702,"start2":1702,"length1":25,"length2":17},{"diffs":[[0,"SIZE/2;\n"],[-1,"        "],[0,"\n       "]],"start1":1871,"start2":1871,"length1":24,"length2":16},{"diffs":[[0," depth, "],[-1,"stoneShaderMaterial[i]"],[1,"window.mmo.Materials.fillStoneMat, window.mmo.Materials.strokeStoneMat"],[0,");\n     "]],"start1":1954,"start2":1954,"length1":38,"length2":86},{"diffs":[[0,"es[i]);\n"],[-1,"        "],[0,"\n       "]],"start1":2057,"start2":2057,"length1":24,"length2":16}]],"length":2301,"saved":false}
{"ts":1369823063675,"patch":[[{"diffs":[[0,"        "],[-1,"console.log(\"Error : "],[1,"window.Logger.log(window.Level.CRITICAL, \""],[0,"Namespac"]],"start1":273,"start2":273,"length1":37,"length2":58},{"diffs":[[0," mmo not Loaded\""],[1,", \"Stone builder\""],[0,");\n             "]],"start1":332,"start2":332,"length1":32,"length2":49},{"diffs":[[0,"    "],[-1,"console.log(\"Error : "],[1,"window.Logger.log(window.Level.CRITICAL, \""],[0,"Name"]],"start1":480,"start2":480,"length1":29,"length2":50},{"diffs":[[0," Loaded\""],[1,", \"Stone builder\""],[0,");\n     "]],"start1":543,"start2":543,"length1":16,"length2":33}]],"length":2377,"saved":false}
{"ts":1369823340491,"patch":[[{"diffs":[[0,"){\n\n"],[-1,"        // SHADER\n        stoneAttributes[i] = {\n            displacement: window.mmo.Attributes.Stone.displacement\n        };\n        stoneValues[i] = stoneAttributes[i].displacement.value;\n\n        stoneShaderMaterial[i] = new window.THREE.ShaderMaterial({\n            uniforms:       window.mmo.UNIFORMS,\n            attributes:     stoneAttributes[i],\n            vertexShader:   document.getElementById('stonevertexshader').textContent,\n            fragmentShader: document.getElementById('stonefragmentshader').textContent\n        });\n\n"],[0,"\n   "]],"start1":1044,"start2":1044,"length1":550,"length2":8}]],"length":1835,"saved":false}
{"ts":1369823343123,"patch":[[{"diffs":[[0," i++){\n\n"],[-1,"\n"],[0,"        "]],"start1":1040,"start2":1040,"length1":17,"length2":16}]],"length":1834,"saved":false}
{"ts":1369823348182,"patch":[[{"diffs":[[0," [];"],[-1,"\n    var stoneAttributes = [];\n    var stoneValues = [];\n    var stoneShaderMaterial = [];\n    //var stoneShaderMaterial = window.mmo.Materials.Stone_Materials();"],[0,"\n\n  "]],"start1":832,"start2":832,"length1":170,"length2":8}]],"length":1672,"saved":false}
{"ts":1369823356632,"patch":[[{"diffs":[[0,"i]);"],[-1,"\n\n        // UPDATE\n        var vertices = stones[i].geometry.vertices;\n        for(var v = 0; v < vertices.length; v++) {\n              stoneValues[i] = Math.random() * 300;\n        }\n        vertices.clear;"],[0,"\n   "]],"start1":1431,"start2":1431,"length1":216,"length2":8}]],"length":1464,"saved":false}
{"ts":1369823949470,"patch":[[{"diffs":[[0,"   }"],[-1,"\n\n    return scene;"],[0,"\n  }"]],"start1":1437,"start2":1437,"length1":27,"length2":8}]],"length":1445,"saved":false}
{"ts":1369825970389,"patch":[[{"diffs":[[0,"mmo."],[-1,"Materials.strokeStoneMat"],[1,"STONES_EDGES_MAT"],[0,");\n "]],"start1":1375,"start2":1375,"length1":32,"length2":24}]],"length":1437,"saved":false}
{"ts":1369825993359,"patch":[[{"diffs":[[0,"mmo."],[-1,"Materials.fillStoneMat"],[1,"STONES_FACES_MAT"],[0,", wi"]],"start1":1340,"start2":1340,"length1":30,"length2":24}]],"length":1431,"saved":false}
